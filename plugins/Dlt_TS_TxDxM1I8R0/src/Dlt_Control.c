/**
 * \file
 *
 * \brief AUTOSAR Dlt
 *
 * This file contains the implementation of the AUTOSAR
 * module Dlt.
 *
 * \version 1.8.6
 *
 * \author Elektrobit Automotive GmbH, 91058 Erlangen, Germany
 *
 * Copyright 2005 - 2021 Elektrobit Automotive GmbH
 * All rights exclusively reserved for Elektrobit Automotive GmbH,
 * unless expressly agreed to otherwise.
 */
/* This file contains definitions for control functions that are triggered
 * by control messages or can be called directly. */

/* MISRA-C:2012 Deviation List
 *
 * MISRAC2012-1) Deviated Rule: 8.9 (Advisory)
 *    "An object should be defined at block scope if its identifier
 *    only appears in a single function"
 *
 *    Reason:
 *    Having an object with static storage location inside the body of a function
 *    violates the SWS_MemMap_00023 requirement, and therefore, the static variables
 *    must be located at file scope.
 *
 * MISRAC2012-2) Deviated Rule: 8.3 (Required)
 *    "All declarations of an object or function shall use the same names and type qualifiers."
 *
 *    Reason:
 *    The function declaration is generated by the RTE with another parameter name.
 *
 **/

/* tasking Deviation List
 *
 * TASKING-1) Deviated Rule: W549
 * W549: condition is always true
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The false branch coverage is assured by other module configurations.
 *
 * TASKING-2) Deviated Rule: W549
 * W549: condition is always true
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The false branch coverage is assured by other module configurations.
 *
 * TASKING-3) Deviated Rule: W549
 * W549: condition is always true
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The false branch coverage is assured by other module configurations.
 *
 * TASKING-4) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-5) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The false branch coverage is assured by other module configurations.
 *
 * TASKING-6) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration doesn't call Dlt_GetLogChannelNames() with valid parameters.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-7) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-8) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-9) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-10) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * This specific module configuration simulates an uninitialised state of the Dlt through debug macros.
 * The true branch coverage is assured by other module configurations.
 *
 * TASKING-11) Deviated Rule: W549
 * W549: condition is always false
 *
 * Reason:
 * The DBG_DLT_STORECONFIGURATION_EXIT debug macro extends to a specific
 * if condition created for a specific module configuration.
 * The true branch coverage is assured by other module configurations.
 */

/*==================[inclusions]============================================*/

#include <Dlt_Cfg.h>
#include <TSMem.h>

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
#include <SchM_Dlt.h>                             /* SchM interface for Dlt */
#endif

#if (defined DLT_INTERNAL_USAGE)
#error DLT_INTERNAL_USAGE is already defined
#endif
#define DLT_INTERNAL_USAGE

#include <Dlt.h>

#if (DLT_INCLUDE_RTE == STD_ON)

#define RTE_PTR2ARRAYTYPE_PASSING
#include <Rte_Dlt.h>
#include <Dlt_BSW.h>

#endif /* DLT_INCLUDE_RTE == STD_ON */

#include <Dlt_Trace.h>
#include <Dlt_Int.h>

#if (DLT_INCLUDE_RTE == STD_ON) && (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431)
#include <Dlt_SessionMapping.h>
#endif /* (DLT_INCLUDE_RTE == STD_ON) && (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */

/*==================[macros]================================================*/

#if (defined DLT_GET_CONTEXT_TABLE)
#error DLT_GET_CONTEXT_TABLE already defined
#endif
/** \brief Macro for accessing the contextId table */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
#define DLT_GET_CONTEXT_TABLE(AppIdx, CtxIdx)\
  Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTable[(AppIdx)].ContextIdTableIdx[(CtxIdx)]]
#else
#define DLT_GET_CONTEXT_TABLE(AppIdx, CtxIdx)\
  Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[Dlt_AppToContextIdTable[(AppIdx)].ContextIdTableIdx[(CtxIdx)]]
#endif

#if(defined DLT_GETLOGINFO_UINT8_OFFSET)
#error DLT_GETLOGINFO_UINT8_OFFSET already defined
#endif
/** \brief Offset in bytes for uint8 values written in the uint8 response buffer */
#define DLT_GETLOGINFO_UINT8_OFFSET  0x01U

#if(defined DLT_GETLOGINFO_UINT16_OFFSET)
#error DLT_GETLOGINFO_UINT16_OFFSET already defined
#endif
/** \brief Offset in bytes for uint16 values written in the uint8 response buffer */
#define DLT_GETLOGINFO_UINT16_OFFSET 0x02U

#if(defined DLT_GETLOGINFO_UINT32_OFFSET)
#error DLT_GETLOGINFO_UINT32_OFFSET already defined
#endif
/** \brief Offset in bytes for uint32 values written in the uint8 response buffer */
#define DLT_GETLOGINFO_UINT32_OFFSET 0x04U

/*==================[type definitions]======================================*/

/*==================[external function declarations]========================*/

/*==================[internal function declarations]========================*/

#define DLT_START_SEC_CODE
#include <Dlt_MemMap.h>

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON) || (DLT_IMPLEMENT_VERBOSE == STD_ON)

/** \brief Find an Entry in the Context Id table
 **
 ** This function checks whether a given AppId / ContextId pair
 ** had been registered in the Context Id table and, if yes, returns
 ** a reference to the corresponding table entry
 **
 ** \param[in] session_id The session Id for the current request
 ** \param[in] AppId The application Id which is requested
 ** \param[in] ContextId The context Id which is requested
 ** \param[out] ContextEntry Reference to the entry in
 **             Dlt_ContextIdTable which matches the given
 **             AppId 7 ContextId pair
 **
 ** \return The status of checking the Context Id table
 ** \retval E_OK The AppId / ContextId pair had been registered
 ** \retval E_NOT_OK The AppId / ContextId pair had not been
 **                  registered, ContextEntry is invalid
 */
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetContextEntry(
    Dlt_SessionIDType session_id,
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    P2VAR(Dlt_ContextIdTablePtrType, AUTOMATIC, DLT_APPL_DATA) ContextEntry);

#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON || DLT_IMPLEMENT_VERBOSE == STD_ON */

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON)
/** \brief Get log info helper function
 *
 * Called to request information when the AppId and ContextId are either valid or null.
 *
 * \param[in]  options        Used to filter the response in respect
 *                            to the ApplicationId, ContextId and Trace Status information
 * \param[in]  appId          Representation of the ApplicationId
 * \param[in]  contextId      Representation of the ContextId
 * \param[in]  ContextIdTable Details about one ContextId
 *
 * \param[out] status
 * \param[out] logInfo        Details about the returned Application IDs
 *
 * \return Result of retrieving the log info
 *
 * \retval E_OK     No error occurred
 * \retval E_NOT_OK LogInfo could not be returned
 *
 */
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetLogInfoAppIdContextId(
    uint8 options,
    Dlt_Internal_ApplicationIDType appId,
    Dlt_Internal_ContextIDType contextId,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo);

/** \brief Get log info helper function
 *
 * Called to verify the requested tuples for verbose mode.
 *
 * \param[in]  options        Used to filter the response in the respect
 *                            to the AppIds/ContextIds textual descriptions.
 * \param[in]  appId          Representation of the ApplicationId
 * \param[in]  contextId      Representation of the ContextId
 * \param[in]  ContextIdTable Details about one ContextId
 *
 * \param[out] status
 *
 * \return Result of retrieving the log info
 *
 * \retval E_OK     No error occurred
 * \retval E_NOT_OK LogInfo could not be returned
 *
 */
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetLogInfoVerifyVerbose(
    uint8 options,
    Dlt_Internal_ApplicationIDType appId,
    Dlt_Internal_ContextIDType contextId,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status);

/** \brief Get log info helper function
 *
 * Called to fill logInfo with the requested ContextIds of the respective AppIds.
 *
 * \param[in]     options        Used to filter the response in the respect
 *                               to the AppIds/ContextIds textual descriptions.
 * \param[in]     ContextIdTable Details about one ContextId
 *
 * \param[out]    logInfo        Details about the returned Application IDs
 *
 * \param[in/out] LogInfoIdx     Index to remember buffer position
 *
 */
STATIC FUNC(void, DLT_CODE) Dlt_GetLogInfoFillCtx(
    uint8 options,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo,
    P2VAR(uint32, AUTOMATIC, DLT_APPL_DATA) LogInfoIdx);

/** \brief Set trace status internal function
 *
 * Called by the Dlt_SetTraceStatus API to change status of valid tuples.
 *
 * \param[in]     AppId              Application ID for which the trace status shall be changed
 * \param[in]     ContextId          Context ID for which the trace status shall be changed
 * \param[in]     NewStatus          New trace status
 *
 * \param[out]    TraceStatus        Status variable to identify if the tuple was changed or not
 *
 */
STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetTraceStatusInternal(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageTraceStatusType NewStatus,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) TraceStatus);

/** \brief Set log level internal function
 *
 * Called by the Dlt_SetLogLevel API to change status of valid tuples.
 *
 * \param[in]     AppId              Application ID for which the log level shall be changed
 * \param[in]     ContextId          Context ID for which the log level shall be changed
 * \param[in]     NewLevel           New log level
 *
 * \param[out]    LogLevelChanged    Status variable to identify if the log level was changed or not
 *
 */
STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetLogLevelInternal(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageLogLevelType NewLevel,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) LogLevelChanged);
#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON */

#if (DLT_IMPLEMENT_VERBOSE != STD_OFF)
/** \brief SetVerboseMode internal helper function
 *
 * Called to set the verbose mode for a Application/Context ID tuple
 *
 * \param[in]  AppId_Internal        The application ID of the desired tuple
 * \param[in]  ContextId_Internal    The context ID of the desired tuple
 * \param[in]  NewStatus             New verbose mode
 *
 * \param[out] needsNotification     Variable which enables or disables notification
 *                                   for successful verbose mode change
 *
 * \return Result of setting the verbose status
 *
 * \retval DLT_CTRL_ERROR      Error encountered, could not set verbose mode
 * \retval DLT_CTRL_OK         Verbose mode has been changed for at least a tuple
 *
 */

STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetVerboseModeInternal(
    Dlt_Internal_ApplicationIDType AppId_Internal,
    Dlt_Internal_ContextIDType ContextId_Internal,
    Dlt_MessageLogLevelType NewStatus,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) needsNotification);
#endif

#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
/** \brief Find the index in the Dlt_LogTraceSessionControlCallbacks table
 **
 ** This function checks whether a SessionId is found in the
 ** Dlt_LogTraceSessionControlCallbacks table and if yes returns
 ** the index. If not, value DLT_NUM_SWCS_TO_NOTIFY is returned as index.
 **
 ** \param[in] sessionId The session Id which is requested
 **
 ** \return The index in Dlt_LogTraceSessionControlCallbacks table
 */
STATIC FUNC(uint32, DLT_CODE) Dlt_GetCallbackIdx(Dlt_SessionIDType sessionId);
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */

#if(DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)

/** \brief Find entry in Channel ID Table
  * This function returns the index of the entry in the LogChannel table if an entry exists.
  * If no entry exists, the function returns the index of the next free entry.
  ** \param[in] LogChannelId Name of the log channel
  ** \param[out] logChannelIndex Index from the configuration tables of the log channel found
  */
STATIC FUNC(void, DLT_CODE) Dlt_FindChannelIdEntry(
    P2VAR(Dlt_ChnIdTableIdxType, AUTOMATIC, DLT_APPL_DATA) logChannelIndex,
    P2CONST(Dlt_LogChannelNameType, AUTOMATIC, DLT_APPL_CONST) LogChannelId
    );

/** \brief Function which returns log channel names to a specified buffer
 **
 ** The function returns to the caller all log channel names copied from the configuration tables.
 **
 ** \param[in/out] LogChannelBuffer Buffer where data shall be copied
 ** \param[in] logChannelIndex index of the log channel in the configuration tables
 **/
STATIC FUNC(void, DLT_CODE) Dlt_ReturnLogChannelName
(
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) LogChannelBuffer,
    Dlt_ChnIdTableIdxType logChannelIndex
);
#endif /* DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431 */

#define DLT_STOP_SEC_CODE
#include <Dlt_MemMap.h>

/*==================[internal data]=========================================*/

/*==================[external data]=========================================*/

#define DLT_START_SEC_VAR_INIT_8
#include <Dlt_MemMap.h>

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON)

/** \brief Variable used for the locking mechanism */
/* Deviation MISRAC2012-1 */
STATIC VAR(boolean, DLT_VAR) Dlt_SetLogLevelLock = FALSE;

/** \brief Variable used for the locking mechanism */
/* Deviation MISRAC2012-1 */
STATIC VAR(boolean, DLT_VAR) Dlt_SetTraceStatusLock = FALSE;

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)

/** \brief Variables used for the locking mechanism */
/* Deviation MISRAC2012-1 */
STATIC VAR(boolean, DLT_VAR) Dlt_GetLogChannelNamesLock = FALSE;
STATIC VAR(boolean, DLT_VAR) Dlt_SetLogChannelAssignmentLock = FALSE;

#endif

#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON */

#if (DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON)
#if (DLT_DEV_ERROR_DETECT == STD_ON)
/** \brief Variable used for the locking mechanism */
/* Deviation MISRAC2012-1 */
STATIC VAR(boolean, DLT_VAR) NvMwriteStatusLock = FALSE;
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
#endif /* #if (DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON) */

#define DLT_STOP_SEC_VAR_INIT_8
#include <Dlt_MemMap.h>

/*==================[external constants]====================================*/

/*==================[internal constants]====================================*/

/*==================[external function definitions]=========================*/

#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)

#define Dlt_START_SEC_CODE
#include <Dlt_MemMap.h>

FUNC(void, DLT_CODE) Dlt_SetLogLevelRunnableEntity(void)
{
  Dlt_AppIdTableIdxType ApplicationIdx;
  /* go through all registered applications */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  for (ApplicationIdx = 0U; ApplicationIdx < *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry; ApplicationIdx++)
#else
  for (ApplicationIdx = 0U; ApplicationIdx < Dlt_MaxRegisteredAppldTableEntry; ApplicationIdx++)
#endif
  {
    Dlt_AppToContextIdTableIdxType ContextIdx;
    /* for all contexts registered to the current application ID */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
    for (ContextIdx = 0U; ContextIdx < Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx]; ContextIdx++)
#else
    for (ContextIdx = 0U; ContextIdx < Dlt_AppToContextIdTableIdx[ApplicationIdx]; ContextIdx++)
#endif
    {
      Dlt_ContextIdTablePtrType ContextIdTable;
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      ContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
      if ((ContextIdTable->Flags & DLT_CNTX_LOG_NOTIFY_MASK) != 0)
      {
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
        uint32 CallbackIdx;
        Dlt_ApplicationIDType AppId = {0U};
        Dlt_ContextIDType ContextId = {0U};

        DBG_DLT_UNREGISTER_ALL();

        CallbackIdx = Dlt_GetCallbackIdx(Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].SessionId);
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        DLT_FILL_BUFFER_32(AppId, 0U, Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[ApplicationIdx].AppId);
#else
        DLT_FILL_BUFFER_32(AppId, 0U, Dlt_AppIdTable[ApplicationIdx].AppId);
#endif
        DLT_FILL_BUFFER_32(ContextId, 0U, ContextIdTable->ContextId);

        if (DLT_NUM_SWCS_TO_NOTIFY != CallbackIdx)
        {
          Dlt_LogTraceSessionControlCallbacks[CallbackIdx].LogLevelChangedCallback(
              ((const Dlt_ApplicationIDType*)(void*)&AppId),
              ((const Dlt_ContextIDType*)(void*)&ContextId),
              ContextIdTable->LogLevel);
        }
#elif (DLT_NUM_SESSION_IDS > 0)
        /* !LINKSTO SWS_Dlt_00331,1, SWS_Dlt_00330,1,
                    Dlt.swdd.DltControl.API.SetLogLevel.InformSWC,1 */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].LogLevelCallback(
            Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[ApplicationIdx].AppId, ContextIdTable->ContextId,
            ContextIdTable->LogLevel);
#else
        Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].LogLevelCallback(
            Dlt_AppIdTable[ApplicationIdx].AppId, ContextIdTable->ContextId,
            ContextIdTable->LogLevel);
#endif
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
        TS_AtomicClearBit_8((&ContextIdTable->Flags), (DLT_CNTX_LOG_NOTIFY_POS));
      }
    }
  }
}

FUNC(void, DLT_CODE) Dlt_SetTraceStatusRunnableEntity(void)
{
  Dlt_AppIdTableIdxType ApplicationIdx;
  /* go through all registered applications */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  for (ApplicationIdx = 0U; ApplicationIdx < *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry; ApplicationIdx++)
#else
  for (ApplicationIdx = 0U; ApplicationIdx < Dlt_MaxRegisteredAppldTableEntry; ApplicationIdx++)
#endif
  {
    Dlt_AppToContextIdTableIdxType ContextIdx;
    /* for all contexts registered to the current application ID */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
    for (ContextIdx = 0U; ContextIdx < Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx]; ContextIdx++)
#else
    for (ContextIdx = 0U; ContextIdx < Dlt_AppToContextIdTableIdx[ApplicationIdx]; ContextIdx++)
#endif
    {
      Dlt_ContextIdTablePtrType ContextIdTable;
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      ContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
      if ((ContextIdTable->Flags & DLT_CNTX_TRACE_NOTIFY_MASK) != 0)
      {
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
        uint32 CallbackIdx;
        Dlt_ApplicationIDType AppId = {0U};
        Dlt_ContextIDType ContextId = {0U};

        DBG_DLT_UNREGISTER_ALL();

        CallbackIdx = Dlt_GetCallbackIdx(Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].SessionId);
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        DLT_FILL_BUFFER_32(AppId, 0U, Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[ApplicationIdx].AppId);
#else
        DLT_FILL_BUFFER_32(AppId, 0U, Dlt_AppIdTable[ApplicationIdx].AppId);
#endif
        DLT_FILL_BUFFER_32(ContextId, 0U, ContextIdTable->ContextId);

        if (DLT_NUM_SWCS_TO_NOTIFY != CallbackIdx)
        {
          Dlt_LogTraceSessionControlCallbacks[CallbackIdx].TraceStatusChangedCallback(
              ((const Dlt_ApplicationIDType*)(void*)&AppId),
              ((const Dlt_ContextIDType*)(void*)&ContextId),
              (boolean)ContextIdTable->TraceStatus);
        }
#elif (DLT_NUM_SESSION_IDS > 0)
        /* !LINKSTO SWS_Dlt_00331,1, SWS_Dlt_00330,1, SWS_Dlt_00283,1,
                    Dlt.swdd.DltControl.API.SetTraceStatus.InformSWC,1 */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].LogLevelCallback(
            Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[ApplicationIdx].AppId, ContextIdTable->ContextId,
            (boolean)ContextIdTable->TraceStatus);
#else
        Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].TraceStatusCallback(
            Dlt_AppIdTable[ApplicationIdx].AppId, ContextIdTable->ContextId,
            (boolean)ContextIdTable->TraceStatus);
#endif
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
        TS_AtomicClearBit_8((&ContextIdTable->Flags), (DLT_CNTX_TRACE_NOTIFY_POS));
      }
    }
  }
}

#if (DLT_IMPLEMENT_VERBOSE == STD_ON) && (DLT_NUM_SESSION_IDS > 0)
FUNC(void, DLT_CODE) Dlt_SetVerboseModeRunnableEntity(void)
{
  Dlt_AppIdTableIdxType ApplicationIdx;
  /* go through all registered applications */
  for (ApplicationIdx = 0U; ApplicationIdx < Dlt_MaxRegisteredAppldTableEntry; ApplicationIdx++)
  {
    Dlt_AppToContextIdTableIdxType ContextIdx;
    /* for all contexts registered to the current application ID */
    for (ContextIdx = 0U; ContextIdx < Dlt_AppToContextIdTableIdx[ApplicationIdx]; ContextIdx++)
    {
      Dlt_ContextIdTablePtrType ContextIdTable;
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      ContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
      if ((ContextIdTable->Flags & DLT_CNTX_VERBOSE_NOTIFY_MASK) != 0)
      {
        /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.InformSWC,1,
                    SWS_Dlt_00258,1 */
        Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].VerboseModeCallback(
            Dlt_AppIdTable[ApplicationIdx].AppId, ContextIdTable->ContextId,
            (boolean)ContextIdTable->VerboseMode);

        TS_AtomicClearBit_8((&ContextIdTable->Flags), (DLT_CNTX_VERBOSE_NOTIFY_POS));
      }
    }
  }
}
#endif /* (DLT_IMPLEMENT_VERBOSE == STD_ON) && (DLT_NUM_SESSION_IDS > 0) */

#define Dlt_STOP_SEC_CODE
#include <Dlt_MemMap.h>

#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */


#define DLT_START_SEC_CODE
#include <Dlt_MemMap.h>

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON)

/*--[Dlt_ASR42_GetTraceStatus]--------------------------------------------------------------------*/
/* !LINKSTO Dlt.DltControl.API.GetTraceStatus.FunctionSignature,1 */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_GetTraceStatus(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    P2VAR(Dlt_MessageTraceStatusType, AUTOMATIC, DLT_APPL_DATA) TraceStatus)
{
  Dlt_ContextIdTablePtrType ContextIdTable;
  /* !LINKSTO Dlt.swdd.DltControl.API.GetTraceStatus.Param.TraceStatus.NullPtr, 1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_GETTRACESTATUS_ENTRY(AppId, ContextId, TraceStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetTraceStatus.OnMasterCore,1,
              Dlt.DltControl.API.GetTraceStatus.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.GetTraceStatus.DetOn.ReturnValue, 1*/
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (TraceStatus != NULL_PTR)
      {
        /* !LINKSTO Dlt.swdd.DltControl.API.Dlt_GetTraceStatusSafeExec, 1 */
        if (Dlt_GetContextEntry(DLT_NO_SESSION_ID, AppId, ContextId, &ContextIdTable) == E_OK)
          {
            /* !LINKSTO Dlt.swdd.DltControl.API.Dlt_GetTraceStatus, 1 */
            *TraceStatus = ContextIdTable->TraceStatus;
            /* !LINKSTO Dlt.DltControl.API.GetTraceStatus.PositiveResponse, 1 */
            retVal = DLT_CTRL_OK;
        }
        else
        {
          /* Although this is redundant it was added to explicitly trace a requirement here */
          /* !LINKSTO Dlt.swdd.DltControl.API.Dlt_GetTraceStatusInvalidTuple, 1 */
          retVal = DLT_CTRL_ERROR;
        }
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetTraceStatus.DetOn.ErrorCode, 1*/
      DLT_DET_REPORT_ERROR(DLT_SID_GetTraceStatus, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  else
  {
    retVal = DLT_CTRL_ERROR;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_GETTRACESTATUS_EXIT(retVal, AppId, Contextid, TraceStatus);

  return retVal;
}


/*--[Dlt_ASR42_SetLogLevel]-----------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_SetLogLevel(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageLogLevelType NewLevel)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETLOGLEVEL_ENTRY(AppId, ContextId, NewLevel);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetLogLevel.OnMasterCore,1 */
  if (GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();

    if (Dlt_SetLogLevelLock == FALSE)
    {
      Dlt_SetLogLevelLock = TRUE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      DBG_DLT_SETLOGLEVEL_EXCL_ENTRY();

      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
        /* the log level is in range */
        /* !LINKSTO Dlt.ASR431.SWS_Dlt_00656,1, Dlt.ASR431.SWS_Dlt_00657,1,
                Dlt.DltControl.API.SetLogLevel.ValidLogLevel,1 */
        if ( (NewLevel == DLT_LOG_DEFAULT) ||
             (NewLevel <= DLT_LOG_VERBOSE) )
        {
          boolean LogLevelChanged = FALSE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
          boolean needsNotification = FALSE;
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          /* AppId field is NULL
           * set log level for all ContextIDs with the requested level */
          /* !LINKSTO Dlt.swdd.DltControl.API.SetLogLevel.AppIDnull,1 */
          if (AppId == DLT_APP_ID_NULL)
          {
            Dlt_AppIdTableIdxType ApplicationIdx;
            Dlt_AppToContextIdTableIdxType ContextIdx;
            Dlt_AppIdTableIdxType MaxRegisteredAppld;

            Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
            MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
            MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
            Dlt_BSWMasterContextPtr->ExitExclusiveArea();

            /* go through all applications registered */
            for (ApplicationIdx = 0U; ApplicationIdx < MaxRegisteredAppld; ApplicationIdx++)
            {
              Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
              Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
              Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();

              /* for all contexts registered to the current application ID */
              for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
              {
                Dlt_ContextIdTablePtrType LocalContextIdTable;

                Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
                Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                /* set the log level to the requested level for the current context */
                /* !LINKSTO Dlt.DltCore.ChangeRuntimeConfiguration,1 */
                LocalContextIdTable->LogLevel = NewLevel;
                LogLevelChanged = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
                DBG_DLT_UNREGISTER_ALL();
                /* !LINKSTO Dlt.swdd.DltControl.API.SetLogLevel.AppID.InformSWC,1,
                    Dlt.swdd.DltControl.API.SetLogLevel.ContextID.InformSWC,1,
                    Dlt.DltControl.API.SetLogLevel.ContextID.OnMasterCore, 1 */
                if (DLT_NUM_SWCS_TO_NOTIFY !=
                    Dlt_GetCallbackIdx(Dlt_SessionIdTable[LocalContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
                if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
                {
                  TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_LOG_NOTIFY_POS));
                  needsNotification = TRUE;
                }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
              }
              retVal = DLT_CTRL_OK;
            }
          }
          else
          {
        /* !LINKSTO SWS_Dlt_00069,1, SWS_Dlt_00057,1, Dlt.DltControl.API.SetLogLevel.SetNewLevel, 1 */
            retVal = Dlt_SetLogLevelInternal(AppId, ContextId, NewLevel, &LogLevelChanged);
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
            if (!retVal)
            {
              needsNotification = TRUE;
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          }

          if (LogLevelChanged == TRUE)
          {
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
       /* !LINKSTO Dlt.DltControl.API.SetLogLevel.AppID.OnMasterCore, 1 */
            Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
            if (needsNotification == TRUE)
            {
              /* If the log level was changed we inside SetLogLevelInternal we need a notification */
              Rte_IrTrigger_Dlt_RE_SetLogLevel_Notify_SetLogLevelTriggeringPoint();
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          }
        }
      }
      else
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        /* !LINKSTO Dlt.swdd.DltControl.API.SetLogLevel.DetOn.ErrorCode, 1 */
        DLT_DET_REPORT_ERROR(DLT_SID_SetLogLevel, DLT_E_NOT_INITIALIZED);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      Dlt_SetLogLevelLock = FALSE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
    else
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetLogLevel.OnSlaveCore,1 */
  else
  {
    /* !LINKSTO Dlt.DltControl.API.SetLogLevel.DetOn.ReturnValue, 1 */
    retVal = DLT_CTRL_ERROR;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETLOGLEVEL_EXIT(retVal, AppId, Contextid, NewLevel);

  return retVal;
}

STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetLogLevelInternal(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageLogLevelType NewLevel,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) LogLevelChanged)
{
  Dlt_ContextIdTablePtrType ContextIdTable;
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;
  Dlt_AppIdTableIdxType ApplicationIdx = 0U;
  Dlt_AppToContextIdTableIdxType ContextIdx;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
  MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

  /* ContextId field is NULL
   * set log level for all ContextIDs belonging to the AppId with the requested level */
  /* !LINKSTO Dlt.DltControl.API.SetLogLevel.ContextIDnull,1 */
  /* !LINKSTO Dlt.DltControl.API.SetLogLevel.ContextID.AppIdNotNull,1 */
  if (ContextId == DLT_CTX_ID_NULL)
  {
    do
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      /* only if the application Id is identified */
      if (ApplicationIdx != MaxRegisteredAppld)
      {
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        /* for all contexts registered to the identified application ID */
        for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
        {
          Dlt_ContextIdTablePtrType LocalContextIdTable;

          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

          /* set the log level to the requested level for the current context */
          LocalContextIdTable->LogLevel = NewLevel;
          *LogLevelChanged = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
          DBG_DLT_UNREGISTER_ALL();

          if (DLT_NUM_SWCS_TO_NOTIFY !=
              Dlt_GetCallbackIdx(Dlt_SessionIdTable[LocalContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
            if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
            {
              TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_LOG_NOTIFY_POS));
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          retVal = DLT_CTRL_OK;
        }
      }
      ApplicationIdx++;
    } while(ApplicationIdx < MaxRegisteredAppld);
  }
  else
  {
    do
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      if (ApplicationIdx != MaxRegisteredAppld)
      {
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
        {
          Dlt_ContextIdTableIdxType             CtIdx = 0U;
          Dlt_AppToContextIdTableIdxType ApplToCtxIdx = 0U;

          if (Dlt_CheckForRegisteredContext(ContextId, ApplicationIdx, &CtIdx, &ApplToCtxIdx) == TRUE)
          {
            Dlt_BSWMasterContextPtr->EnterExclusiveArea();
            ContextIdTable = &Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[CtIdx];
            Dlt_BSWMasterContextPtr->ExitExclusiveArea();

            /* !LINKSTO SWS_Dlt_00069,1, SWS_Dlt_00057,1 */
            ContextIdTable->LogLevel = NewLevel;
            *LogLevelChanged = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
            if (DLT_NUM_SWCS_TO_NOTIFY !=
                Dlt_GetCallbackIdx(Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
            if (ContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
            {
              TS_AtomicSetBit_8((&ContextIdTable->Flags), (DLT_CNTX_LOG_NOTIFY_POS));
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
            retVal = DLT_CTRL_OK;
          }
        }
      }
      ApplicationIdx++;
    } while (ApplicationIdx < MaxRegisteredAppld);
  }

  return retVal;
}

/*--[Dlt_ASR42_SetTraceStatus]--------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_SetTraceStatus(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageTraceStatusType NewStatus)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETTRACESTATUS_ENTRY(AppId, ContextId, NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();

    if(Dlt_SetTraceStatusLock == FALSE)
    {
      Dlt_SetTraceStatusLock = TRUE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      DBG_DLT_SETTRACESTATUS_EXCL_ENTRY();

      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.DetOn.ReturnValue, 1 */
      if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
        /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.ValidNewTraceMessage, 1 */
        if( (NewStatus == DLT_TRACE_STATUS_DEFAULT) ||
            (NewStatus <= DLT_TRACE_STATUS_ON) )
        {
          boolean TraceStatusChanged = FALSE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
          boolean needsNotification = FALSE;
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          /* AppId field is NULL
           * set log level for all ContextIDs with the requested level */
          /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.ApplicationIdNull,1 */
          if (AppId == DLT_APP_ID_NULL)
          {
            Dlt_ContextIdTableIdxType ContextIdx;
            Dlt_AppIdTableIdxType ApplicationIdx;
            Dlt_AppIdTableIdxType MaxRegisteredAppld;

            Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
            MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
            MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
            Dlt_BSWMasterContextPtr->ExitExclusiveArea();

            /* go through all applications registered */
            for (ApplicationIdx = 0U; ApplicationIdx < MaxRegisteredAppld; ApplicationIdx++)
            {
              Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
              Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
              Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();

              /* for all contexts registered to the current application ID */
              for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
              {
                Dlt_ContextIdTablePtrType LocalContextIdTable;

                Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
                Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                /* set the trace status to the requested level for the current context */
                LocalContextIdTable->TraceStatus = NewStatus;
                TraceStatusChanged = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
                DBG_DLT_UNREGISTER_ALL();
                /* !LINKSTO Dlt.swdd.DltControl.API.SetTraceStatus.ApplicationID.InformSWC,1 */
                if (DLT_NUM_SWCS_TO_NOTIFY !=
                    Dlt_GetCallbackIdx(Dlt_SessionIdTable[LocalContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
                if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
                {
                  TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_TRACE_NOTIFY_POS));
                  needsNotification = TRUE;
                }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
              }
              retVal = DLT_CTRL_OK;
            }
          }
          else
          {
            retVal = Dlt_SetTraceStatusInternal(AppId, ContextId, NewStatus, &TraceStatusChanged);
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
            if (!retVal)
            {
              needsNotification = TRUE;
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          }

          if (TraceStatusChanged == TRUE)
          {
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
            Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
            /* If trace status was changed inside SetTraceStatusInternal we need a notification  */
      /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.ApplicationID.OnMasterCore, 1,
                        Dlt.DltControl.API.SetTraceStatus.ContextIdNULL.OnMasterCore, 1 */
            if (needsNotification == TRUE)
            {
              Rte_IrTrigger_Dlt_RE_SetTraceStatus_Notify_SetTraceStatusTriggeringPoint();
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
          }
        }
      }
      else
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.DetOn.ErrorCode, 1 */
        DLT_DET_REPORT_ERROR(DLT_SID_SetTraceStatus, DLT_E_NOT_INITIALIZED);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      Dlt_SetTraceStatusLock = FALSE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
    else
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.OnSlaveCore,1 */
  else
  {
    /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.NegativeResponse, 1 */
    retVal = DLT_CTRL_ERROR;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETTRACESTATUS_EXIT(retVal, AppId, ContextId, NewStatus);

  return retVal;
}

STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetTraceStatusInternal(
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    Dlt_MessageTraceStatusType NewStatus,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) TraceStatus)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;
  Dlt_ContextIdTablePtrType ContextIdTable;
  Dlt_ContextIdTableIdxType ContextIdx;
  Dlt_AppIdTableIdxType ApplicationIdx = 0U;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
  MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

  if (ContextId == DLT_CTX_ID_NULL)
  {
    /* ContextId field is NULL
     * set log level for all ContextIDs belonging to the AppId with the requested level */
    /* go through all applications registered */
    do
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      /* only if the application Id is identified */
      if (ApplicationIdx != MaxRegisteredAppld)
      {
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.ContextIdNULL,1 */
        /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.ContextID,1 */
        /* for all contexts registered to the identified application ID */
        for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
        {
          Dlt_ContextIdTablePtrType LocalContextIdTable;

          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

          /* set the trace status to the requested level for the current context */
          LocalContextIdTable->TraceStatus = NewStatus;
          *TraceStatus = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
          DBG_DLT_UNREGISTER_ALL();
          /* !LINKSTO Dlt.swdd.DltControl.API.SetTraceStatus.ContextID1.InformSWC,1 */
          if (DLT_NUM_SWCS_TO_NOTIFY !=
              Dlt_GetCallbackIdx(Dlt_SessionIdTable[LocalContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
            if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
            {
              TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_TRACE_NOTIFY_POS));
            }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
        }
        retVal = DLT_CTRL_OK;
      }
      ApplicationIdx++;
    } while(ApplicationIdx < MaxRegisteredAppld);
  }
  else
  {
    do
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      if (ApplicationIdx != MaxRegisteredAppld)
      {
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
        {
          Dlt_ContextIdTableIdxType             CtIdx = 0U;
          Dlt_AppToContextIdTableIdxType ApplToCtxIdx = 0U;

          if (Dlt_CheckForRegisteredContext(ContextId, ApplicationIdx, &CtIdx, &ApplToCtxIdx) == TRUE)
          {
            Dlt_BSWMasterContextPtr->EnterExclusiveArea();
            ContextIdTable = &Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[CtIdx];
            Dlt_BSWMasterContextPtr->ExitExclusiveArea();

            /* !LINKSTO SWS_Dlt_00071,1,
                        Dlt.swdd.DltControl.API.SetTraceStatus, 1 */
            ContextIdTable->TraceStatus = NewStatus;
            *TraceStatus = TRUE;
#if (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0)
#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
            if (DLT_NUM_SWCS_TO_NOTIFY !=
                Dlt_GetCallbackIdx(Dlt_SessionIdTable[ContextIdTable->SessionIdTableIdx].SessionId))
#elif (DLT_NUM_SESSION_IDS > 0)
              if (ContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */
              {
                TS_AtomicSetBit_8((&ContextIdTable->Flags), (DLT_CNTX_TRACE_NOTIFY_POS));
              }
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) || (DLT_NUM_SESSION_IDS > 0) */
            /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.PositiveResponse, 1 */
            retVal = DLT_CTRL_OK;
          }
        }
      }
      ApplicationIdx++;
    } while(ApplicationIdx < MaxRegisteredAppld);
  }

  return retVal;
}

/*--[Dlt_GetLogLevel]-----------------------------------------------------------------------------*/
/* !LINKSTO Dlt.swdd.DltControl.API.GetLogLevel,1 */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetLogLevel(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) AppId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) ContextId,
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) LogLevel)
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetLogLevel(
    Dlt_ApplicationIDType AppId,
    Dlt_ContextIDType ContextId,
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) LogLevel)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
{
  Dlt_ContextIdTablePtrType ContextIdTable;
  /* !LINKSTO Dlt.DltControl.API.GetLogLevel.OnSlaveCore,1,
              Dlt.DltControl.API.GetLogLevel.ErrorReturnValue.ParamNULLPTR,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  Dlt_Internal_ApplicationIDType AppId_Internal = 0U;
  Dlt_Internal_ContextIDType ContextId_Internal = 0U;
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
  Dlt_ApplicationIDType AppId_Internal = AppId;
  Dlt_ContextIDType ContextId_Internal = ContextId;
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */

  DBG_DLT_GETLOGLEVEL_ENTRY(AppId_Internal, ContextId_Internal, LogLevel);
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetLogLevel.OnMasterCore,1,
              Dlt.DltControl.API.GetLogLevel.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.GetLogLevel.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.GetLogLevel.DetOn.Dlt_NullParam,1 */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
      if ( (AppId != NULL_PTR) && (ContextId != NULL_PTR) && (LogLevel != NULL_PTR) )
#else
      /* !LINKSTO Dlt.DltControl.API.GetLogLevel.ErrorReturnValue.ParamNULLPTR, 1 */
      if (LogLevel != NULL_PTR)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
      {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        AppId_Internal = DLT_UINT32_CONVERT_TUPLE(*AppId);
        ContextId_Internal = DLT_UINT32_CONVERT_TUPLE(*ContextId);
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */

        /* !LINKSTO Dlt.swdd.DltControl.API.GetLogLevel.ExclusiveArea,1 */
        /* Execution is protected inside Dlt_GetContextEntry() */
        if (Dlt_GetContextEntry(DLT_NO_SESSION_ID, AppId_Internal, ContextId_Internal, &ContextIdTable) == E_OK)
        {
          /* !LINKSTO Dlt.swdd.DltControl.API.GetLogLevel.ValidTuple,1,
                      Dlt.DltControl.API.GetLogLevel.PositiveReturnValue,1 */
          *LogLevel = ContextIdTable->LogLevel;
          retVal = DLT_CTRL_OK;
        }
        else
        {
          /* !LINKSTO Dlt.swdd.DltControl.API.Dlt_GetLogLevelInvalidTuple,1,
                      Dlt.DltControl.API.GetLogLevel.ErrorReturnValue.AppIdNotFound,1,
                      Dlt.DltControl.API.GetLogLevel.ErrorReturnValue.ContextIdNotFound,1 */
          retVal = DLT_CTRL_ERROR;
        }
      }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      else
      {
        /* !LINKSTO Dlt.swdd.DltControl.API.GetLogLevel.Param.LogLevel.NullPtr,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_GetLogLevel, DLT_E_PARAM_POINTER);
      }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetLogLevel.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetLogLevel, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }
  DBG_DLT_GETLOGLEVEL_EXIT(retVal, AppId_Internal, ContextId_Internal, LogLevel);

  return retVal;
}

/*--[Dlt_GetLogInfo]------------------------------------------------------------------------------*/
/* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00732,1 */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetLogInfo(
    uint8 options,
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) appId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) contextId,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo)
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetLogInfo(
    uint8 options,
    Dlt_ApplicationIDType appId,
    Dlt_ContextIDType contextId,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_ContextIdTablePtrType ContextIdTable;
  Dlt_Internal_ApplicationIDType appId_Internal = 0U;
  Dlt_Internal_ContextIDType contextId_Internal = 0U;
  boolean DltIsAppIdContextIdInvalid = FALSE;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

  DBG_DLT_GETLOGINFO_ENTRY(options, appId_Internal, contextId_Internal, status, logInfo);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetLogInfo.OnMasterCore, 1 */
  /* !LINKSTO Dlt.DltControl.API.GetLogInfo.OnSlaveCore, 1 */
  if (GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      if (status != NULL_PTR)
      {
        *status = DLT_CTRL_ERROR;
      }
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Uninitialized.Dlt.Module, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetLogInfo, DLT_E_NOT_INITIALIZED);
    }
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
    else if ( (logInfo == NULL_PTR)
        || (status == NULL_PTR)
        || (appId == NULL_PTR)
        || (contextId == NULL_PTR) )
#else
    else if ( (logInfo == NULL_PTR)
            || (status == NULL_PTR) )
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
    {
      if (status != NULL_PTR)
      {
        *status = DLT_CTRL_ERROR;
      }
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Param.Pointer.NullPtrStatus, 1 */
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Param.Pointer.NullPtrGetLogInfo, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetLogInfo, DLT_E_PARAM_POINTER);
    }
    else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        appId_Internal = DLT_UINT32_CONVERT_TUPLE(*appId);
        contextId_Internal = DLT_UINT32_CONVERT_TUPLE(*contextId);
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
        appId_Internal = appId;
        contextId_Internal = contextId;
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */

       Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
       MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
       MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
       Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      if ((appId_Internal != DLT_APP_ID_NULL) && (contextId_Internal != DLT_CTX_ID_NULL))
      {
        if (Dlt_GetContextEntry(DLT_NO_SESSION_ID, appId_Internal, contextId_Internal, &ContextIdTable) == E_OK)
        {
          retVal = Dlt_GetLogInfoInternal(DLT_NO_SESSION_ID, options, appId_Internal, contextId_Internal, status, logInfo);
        }
        else
        {
          DltIsAppIdContextIdInvalid = TRUE;
        }
      }
      else if ( ((appId_Internal == DLT_APP_ID_NULL) && (contextId_Internal == DLT_CTX_ID_NULL)) ||
                ((appId_Internal == DLT_APP_ID_NULL) && (contextId_Internal != DLT_CTX_ID_NULL)) )
      {
        if (MaxRegisteredAppld != 0U)
        {
          retVal = Dlt_GetLogInfoInternal(DLT_NO_SESSION_ID, options, appId_Internal, contextId_Internal, status, logInfo);
        }
        else
        {
          DltIsAppIdContextIdInvalid = TRUE;
        }
      }
      else /* if ((appId_Internal != DLT_APP_ID_NULL) && (contextId_Internal == DLT_CTX_ID_NULL)) */
      {
        Dlt_AppIdTableIdxType AIdx = 0U;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
        Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, appId_Internal, &Dlt_BSWMasterContextPtr->CoreContext, &AIdx);
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        /* if application is registered the index must be in range */
        if (AIdx != MaxRegisteredAppld)
        {
          retVal = Dlt_GetLogInfoInternal(DLT_NO_SESSION_ID, options, appId_Internal, contextId_Internal, status, logInfo);
        }
        else
        {
          DltIsAppIdContextIdInvalid = TRUE;
        }
      }

      if (DltIsAppIdContextIdInvalid == TRUE)
      {
        /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Wrong.Parameters.InvalidAppId, 1 */
        /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Wrong.Parameters.InvalidContextId, 1 */
        *status = DLT_CTRL_ERROR;
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        DLT_DET_REPORT_ERROR(DLT_SID_GetLogInfo, DLT_E_WRONG_PARAMETERS);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
    }
  }
  DBG_DLT_GETLOGINFO_EXIT(retVal, options, appId_Internal, contextId_Internal, status, logInfo);

  return retVal;
}

FUNC(Std_ReturnType, DLT_CODE) Dlt_GetLogInfoInternal(
    Dlt_SessionIDType SessionID,
    uint8 options,
    Dlt_Internal_ApplicationIDType AppID,
    Dlt_Internal_ContextIDType ContextID,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo)
{
  Dlt_ContextIdTablePtrType ContextIdTable = NULL_PTR;
  Std_ReturnType retVal = E_NOT_OK;

  DBG_DLT_GETLOGINFOINTERNAL_ENTRY(SessionID, options, AppID, ContextID, status, logInfo);

  /* !LINKSTO Dlt.ControlApi.GetLogInfo.RetVal.OK.ValidAppId.ValidContextId, 1 */
  /* !LINKSTO Dlt.GetLogInfo.ApplicationID_NULL, 1 */
  /* !LINKSTO Dlt.GetLogInfo.ContextID_NULL, 1 */
  if ((Dlt_GetContextEntry(SessionID, AppID, ContextID, &ContextIdTable) == E_OK) ||
      (((AppID == DLT_APP_ID_NULL) || (ContextID == DLT_CTX_ID_NULL))))
  {
    if (Dlt_GetLogInfoAppIdContextId(options, AppID, ContextID, ContextIdTable, status, logInfo) == E_OK)
    {
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.RetVal.OK.NullAppId, 1 */
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.RetVal.OK.ValidAppId.NullContextId, 1 */
      retVal = E_OK;
    }
    else
    {
      retVal = E_NOT_OK;
    }
  }
  else
  {
    /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Wrong.Parameters.InvalidAppId, 1 */
    /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Wrong.Parameters.InvalidContextId, 1 */
    *status = DLT_CTRL_ERROR;
  }

  DBG_DLT_GETLOGINFOINTERNAL_EXIT(retVal, SessionID, options, AppID, ContextID, status, logInfo);
  return retVal;
}

#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON */
/* !LINKSTO Dlt.TrafficShaper.License, 1 */
#if (DLT_TRAFFIC_SHAPER_ENABLED == STD_ON)
/*--[Dlt_GetComInterfaceMaxBandwidth]-------------------------------------------------------------*/
FUNC(uint32, DLT_CODE) Dlt_GetComInterfaceMaxBandwidth(void)
{
  uint32 max_bandwidth = 0U;

  DBG_DLT_GETCOMINTERFACEMAXBANDWIDTH_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetComInterfaceMaxBandwidth.OnMasterCore,1,
              Dlt.DltControl.API.GetComInterfaceMaxBandwidth.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    /* Deviation TASKING-1 */
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.ControlApi.GetComInterfaceMaxBandwidth.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetComInterfaceMaxBandwidth, DLT_E_NOT_INITIALIZED);
    }
    else
#endif
    {
      /* !LINKSTO Dlt.ControlApi.GetComInterfaceMaxBandwidth.ReturnValueNotInit,1 */
      /* Return bits per second */
      max_bandwidth = Dlt_BandwidthForComModule * 8U;
    }
  }

  DBG_DLT_GETCOMINTERFACEMAXBANDWIDTH_EXIT(max_bandwidth);

  /* !LINKSTO Dlt.swdd.DltControl.API.GetComInterfaceMaxBandwidthNoInitReturn,1  */
  return max_bandwidth;
}


/*--[Dlt_SetComInterfaceMaxBandwidth]-------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetComInterfaceMaxBandwidth(
  uint32 max_bandwidth)
{
  /* !LINKSTO Dlt.swdd.DltControl.API.SetComInterfaceMaxBandwidthDltNotInitReturn,1,
              Dlt.DltControl.API.SetComInterfaceMaxBandwidth.ReturnValueBWTooSmall,1,
              Dlt.DltControl.API.SetComInterfaceMaxBandwidth.ReturnValueNotInit,1,
              Dlt.DltControl.API.SetComInterfaceMaxBandwidth.ReturnValueMisaligned,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETCOMINTERFACEMAXBANDWIDTH_ENTRY(max_bandwidth);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetComInterfaceMaxBandwidth.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.SetComInterfaceMaxBandwidth.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      /* !LINKSTO Dlt.swdd.DltControl.API.SetComInterfaceMaxBandwidthDltNotInit,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetComInterfaceMaxBandwidth, DLT_E_NOT_INITIALIZED);
#endif
    }
    else if ((max_bandwidth < 8000U) || ((max_bandwidth % 8U) != 0U))
    {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      /* !LINKSTO Dlt.swdd.DltControl.API.SetComInterfaceMaxBandwidthInvalidBandwidth,1,
                  Dlt.DltControl.API.SetComInterfaceMaxBandwidth.DetOnMisaligned,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetComInterfaceMaxBandwidth, DLT_E_WRONG_PARAMETERS);
#endif
    }
    else
    {
      /* Store whole bytes per second */
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_BandwidthForComModule = max_bandwidth / 8U;
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
      retVal = DLT_CTRL_OK;
    }
  }

  DBG_DLT_SETCOMINTERFACEMAXBANDWIDTH_EXIT(retVal, max_bandwidth);
  return retVal;
}

#endif /* DLT_TRAFFIC_SHAPER_ENABLED == STD_ON */

#if (DLT_IMPLEMENT_EXTENDED_HEADER == STD_ON)

/*--[Dlt_GetUseExtendedHeader]--------------------------------------------------------------------*/
/* !LINKSTO Dlt.GetUseExtendedHeader.OutputParameters,1 */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetUseExtendedHeader(void)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_GETUSEEXTENDEDHEADER_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetUseExtendedHeader.OnMasterCore,1,
              Dlt.DltControl.API.GetUseExtendedHeader.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (Dlt_HeaderUseExtendedHeader == DLT_HEADER_EXTENDED_HEADER_BIT)
      {
        retVal = 1U;
      }
      else
      {
        retVal = 0U;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetUseExtendedHeader.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetUseExtendedHeader, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETUSEEXTENDEDHEADER_EXIT(retVal);
  return retVal;
}


/*--[Dlt_SetUseExtendedHeader]--------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetUseExtendedHeader(uint8 NewStatus)
{
  /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.ErrorReturnValue,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETUSEEXTENDEDHEADER_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {

    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (NewStatus == 0U)
      {
        /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.StatusOFF,1 */
        if (Dlt_HeaderUseExtendedHeader != 0U)
        {
          Dlt_HeaderLength -= DLT_EXT_HEADER_LENGTH;
        }
        Dlt_HeaderUseExtendedHeader = 0U;
        /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.PositiveReturnValue,1 */
        retVal = DLT_CTRL_OK;
      }
      if (NewStatus == 1U)
      {
        /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.StatusON,1 */
        if (Dlt_HeaderUseExtendedHeader == 0U)
        {
          Dlt_HeaderLength += DLT_EXT_HEADER_LENGTH;
        }
        Dlt_HeaderUseExtendedHeader = DLT_HEADER_EXTENDED_HEADER_BIT;
        /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.PositiveReturnValue,1 */
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetUseExtendedHeader, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */

  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseExtendedHeader.OnSlaveCore,1 */
  else
  {
    /* return DLT_CTRL_ERROR in case API is called from Slave context */
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETUSEEXTENDEDHEADER_EXIT(retVal, NewStatus);
  return retVal;
}

#endif /* DLT_IMPLEMENT_EXTENDED_HEADER == STD_ON */
#if (DLT_IMPLEMENT_TIMESTAMP != STD_OFF)

/*--[Dlt_GetUseTimestamp]-------------------------------------------------------------------------*/
/* !LINKSTO Dlt.GetUseTimestamp.NoStatusParam,1 */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetUseTimestamp(void)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_GETUSETIMESTAMP_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetUseTimestamp.OnMasterCore,1,
              Dlt.DltControl.API.GetUseTimestamp.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (Dlt_HeaderUseTimestamp == DLT_HEADER_TIMESTAMP_BIT)
      {
        retVal = 1U;
      }
      else
      {
        retVal = 0U;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetUseTimestamp.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetUseTimestamp, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETUSETIMESTAMP_EXIT(retVal);
  return retVal;
}


/*--[Dlt_SetUseTimestamp]-------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetUseTimestamp(uint8 NewStatus)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETUSETIMESTAMP_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.DetOn.ReturnValue, 1*/
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (NewStatus == 0U)
      {
        /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.InvalidParam, 1 */
        if (Dlt_HeaderUseTimestamp != 0U)
        {
          /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.TimeStampInHeader_OFF.Length, 1 */
          Dlt_HeaderLength -= DLT_TMSP_HEADER_LENGTH;
        }
        /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.TimeStampInHeader_OFF.Flag, 1 */
        Dlt_HeaderUseTimestamp = 0U;
        retVal = DLT_CTRL_OK;
      }
      /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.InvalidParam, 1 */
      if (NewStatus == 1U)
      {
        if (Dlt_HeaderUseTimestamp == 0U)
        {
          /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.TimeStampInHeader_ON.Length, 1 */
          Dlt_HeaderLength += DLT_TMSP_HEADER_LENGTH;
        }
        /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.TimeStampInHeader_ON.Flag, 1 */
        Dlt_HeaderUseTimestamp = DLT_HEADER_TIMESTAMP_BIT;
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetUseTimestamp, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */

  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseTimestamp.OnSlaveCore,1 */
  else
  {
    /* return DLT_CTRL_ERROR in case API is called from Slave core */
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETUSETIMESTAMP_EXIT(retVal, NewStatus);
  return retVal;
}

#endif /* DLT_IMPLEMENT_TIMESTAMP != STD_OFF */

/*--[Dlt_ASR42_GetDefaultLogLevel]----------------------------------------------------------------*/
FUNC(Dlt_MessageLogLevelType, DLT_CODE) Dlt_ASR42_GetDefaultLogLevel(void)
{
  /* !LINKSTO Dlt.GetDefaultLogLevel.Return,1,
              Dlt.DltControl.API.GetDefaultLogLevel.DetOn.ReturnValue,1 */
  Dlt_MessageLogLevelType tempDefaultLogLevel = DLT_DFT_INVALID_LOGLEVEL;

  DBG_DLT_GETDEFAULTLOGLEVEL_ENTRY();

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetDefaultLogLevel.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    /* Deviation TASKING-2 */
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.GetDefaultLogLevel.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetDefaultLogLevel, DLT_E_NOT_INITIALIZED);
    }
    else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    {
      tempDefaultLogLevel = *Dlt_BSWMasterContextPtr->CoreContext.DefaultLogLevel;
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetDefaultLogLevel.OnSlaveCore,1 */
  else
  {
    tempDefaultLogLevel = 0U;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_GETDEFAULTLOGLEVEL_EXIT(tempDefaultLogLevel);

  return tempDefaultLogLevel;
}


/*--[Dlt_ASR42_GetDefaultTraceStatus]-------------------------------------------------------------*/
FUNC(Dlt_MessageTraceStatusType, DLT_CODE) Dlt_ASR42_GetDefaultTraceStatus(void)
{
  Dlt_MessageTraceStatusType tempDefaultTraceStatus = DLT_DFT_INVALID_TRACESTATUS;

  DBG_DLT_GETDEFAULTTRACESTATUS_ENTRY();

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.DetOn, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetDefaultTraceStatus, DLT_E_NOT_INITIALIZED);
    }
    else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    {
      /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.ReturnValue,1 */
      tempDefaultTraceStatus = *Dlt_BSWMasterContextPtr->CoreContext.DefaultTraceStatus;
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.OnSlaveCore,1 */
  else
  {
    tempDefaultTraceStatus = DLT_TRACE_STATUS_OFF;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_GETDEFAULTTRACESTATUS_EXIT(tempDefaultTraceStatus);

  return tempDefaultTraceStatus;
}


/*--[Dlt_ASR42_SetDefaultLogLevel]----------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_SetDefaultLogLevel(Dlt_MessageLogLevelType NewLevel)
{
  /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.NegativeResponse, 1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETDEFAULTLOGLEVEL_ENTRY(NewLevel);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.OnMasterCore,1,
              Dlt.DltControl.API.SetDefaultLogLevel.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* It does not make sense to set the default level to DLT_LOG_DEFAULT... */

      /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.ValidInputLogLevel, 1 */
      if (NewLevel <= DLT_LOG_VERBOSE)
      {
        if (*Dlt_BSWMasterContextPtr->CoreContext.DefaultLogLevel != NewLevel)
        {
      /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.ResultedAction , 1 */
          *Dlt_BSWMasterContextPtr->CoreContext.DefaultLogLevel = NewLevel;
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
          Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif
        }
    /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.PositiveResponse, 1 */
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetDefaultLogLevel.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetDefaultLogLevel, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_SETDEFAULTLOGLEVEL_EXIT(retVal, NewLevel);
  return retVal;
}


/*--[Dlt_ASR42_SetDefaultTraceStatus]-------------------------------------------------------------*/
/* !LINKSTO Dlt.SetDefaultTraceStatus.InputParameters,1 */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_SetDefaultTraceStatus(Dlt_MessageTraceStatusType NewStatus)
{
  /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.ErrorReturnValue,1,
              Dlt.SetDefaultTraceStatus.OutputParameters,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETDEFAULTTRACESTATUS_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.OnMasterCore,1,
              Dlt.DltControl.API.SetDefaultTraceStatus.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* It does not make sense to set the default trace status to DLT_TRACE_STATUS_DEFAULT... */
      /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.ValidTraceStatus, 1,
         Dlt.DltControl.API.SetDefaultTraceStatus.InvalidTraceStatus, 1 */
      if((NewStatus <= DLT_TRACE_STATUS_ON))
      {
        if (*Dlt_BSWMasterContextPtr->CoreContext.DefaultTraceStatus != NewStatus)
        {
      /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.ResultAction, 1 */
          *Dlt_BSWMasterContextPtr->CoreContext.DefaultTraceStatus = NewStatus;
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
          Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif
        }
    /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.PositiveReturnValue,1 */
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetDefaultTraceStatus.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetDefaultTraceStatus, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_SETDEFAULTTRACESTATUS_EXIT(retVal, NewStatus);
  return retVal;
}


/*--[Dlt_ASR42_SetMessageFiltering]---------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_ASR42_SetMessageFiltering(Dlt_FilterMessagesType NewStatus)
{
  /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.ErrorReturnValue,1,
              Dlt.Dlt_SetMessageFiltering.OutputParameters,1  */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETMESSAGEFILTERING_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.OnMasterCore,1,
              Dlt.DltControl.API.SetMessageFiltering.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.ValidFilterStatus,1,
                  Dlt.DltControl.API.SetMessageFiltering.InvalidFilterStatus,1 */
      if((NewStatus == DLT_FILTER_MESSAGES_OFF) || (NewStatus == DLT_FILTER_MESSAGES_ON))
      {
        if (*Dlt_BSWMasterContextPtr->CoreContext.FilterMessages != NewStatus)
        {
      /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.ResultAction,1 */
          *Dlt_BSWMasterContextPtr->CoreContext.FilterMessages = NewStatus;
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
          Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif
        }
    /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.PositiveReturnValue,1 */
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetMessageFiltering.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetMessageFiltering, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_SETMESSAGEFILTERING_EXIT(retVal, NewStatus);
  return retVal;
}


/*--[Dlt_GetGlobalLogging]------------------------------------------------------------------------*/
FUNC(Dlt_GlobalLogStatusType, DLT_CODE) Dlt_GetGlobalLogging(void)
{
  Dlt_GlobalLogStatusType localGlobalLogStatus = DLT_INVALID_GLOBALLOGSTATUS;
  DBG_DLT_GETGLOBALLOGGING_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetGlobalLogging.OnMasterCore,1,
              Dlt.DltControl.API.GetGlobalLogging.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    /* !LINKSTO Dlt.DltControl.API.GetGlobalLogging.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.GetGlobalLogging.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetGlobalLogging, DLT_E_NOT_INITIALIZED);
    }
    else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    {
      localGlobalLogStatus = Dlt_GlobalLogStatus;
    }
  }

  DBG_DLT_GETGLOBALLOGGING_EXIT(Dlt_GlobalLogStatus);
  return localGlobalLogStatus;
}


/*--[Dlt_GetMessageFilteringStatus]---------------------------------------------------------------*/
/* !LINKSTO Dlt.GetMessageFilteringStatus.OutputParameters,1 */
FUNC(Dlt_FilterMessagesType, DLT_CODE) Dlt_GetMessageFilteringStatus(void)
{
  Dlt_FilterMessagesType localFilteringStatus;

  DBG_DLT_GETMESSAGEFILTERINGSTATUS_ENTRY();

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetMessageFilteringStatus.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    /* Deviation TASKING-3 */
    if (Dlt_InitStateMaster == DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.DltControl.API.GetMessageFilteringStatus.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetMessageFilteringStatus, DLT_E_NOT_INITIALIZED);
      localFilteringStatus = DLT_INVALID_MESSAGEFILTERINGSTS;
    }
    else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    {
      localFilteringStatus = *Dlt_BSWMasterContextPtr->CoreContext.FilterMessages;
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetMessageFilteringStatus.OnSlaveCore,1 */
  else
  {
    localFilteringStatus = 0U;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_GETMESSAGEFILTERINGSTATUS_EXIT(localFilteringStatus);

  return localFilteringStatus;
}


/*--[Dlt_GetUseECUID]-----------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetUseECUID(void)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_GETUSEECUID_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetUseECUID.OnMasterCore,1,
              Dlt.DltControl.API.GetUseECUID.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (Dlt_HeaderUseEcuId == DLT_HEADER_ECU_ID_BIT)
      {
        retVal = 1U;
      }
      else
      {
        retVal = 0U;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetUseECUID.DetOn.ErrorCode, 1  */
      DLT_DET_REPORT_ERROR(DLT_SID_GetUseECUID, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETUSEECUID_EXIT(retVal);
  return retVal;
}


/*--[Dlt_GetUseSessionID]-------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetUseSessionID(void)
{
  /* !LINKSTO Dlt.DltControl.API.GetUseSessionID.ReturnValue,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_GETUSESESSIONID_ENTRY();
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetUseSessionID.OnMasterCore,1,
              Dlt.DltControl.API.GetUseSessionID.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (Dlt_HeaderUseSessionID == DLT_HEADER_SESSION_ID_BIT)
      {
        /* !LINKSTO Dlt.DltControl.API.GetUseSessionID.ReturnValue,1 */
        retVal = 1U;
      }
      else
      {
        retVal = 0U;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetUseSessionID.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetUseSessionID, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETUSESESSIONID_EXIT(retVal);
  return retVal;
}


/*--[Dlt_GetVerboseModeStatus]--------------------------------------------------------------------*/
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetVerboseModeStatus(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) AppId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) ContextId,
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) ModeStatus)
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_GetVerboseModeStatus(
    Dlt_ApplicationIDType AppId,
    Dlt_ContextIDType ContextId,
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) ModeStatus)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  Dlt_Internal_ApplicationIDType AppId_Internal = 0U;
  Dlt_Internal_ContextIDType ContextId_Internal = 0U;
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
  Dlt_ApplicationIDType AppId_Internal = AppId;
  Dlt_ContextIDType ContextId_Internal = ContextId;
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */

  DBG_DLT_GETVERBOSEMODESTATUS_ENTRY(AppId_Internal, ContextId_Internal, ModeStatus);
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetVerboseModeStatus.OnMasterCore,1,
              Dlt.DltControl.API.GetVerboseModeStatus.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
      if ( (ModeStatus != NULL_PTR)
          && (AppId != NULL_PTR)
          && (ContextId != NULL_PTR) )
#else
      if (ModeStatus != NULL_PTR)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
      {
#if (DLT_IMPLEMENT_VERBOSE == STD_ON)
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        AppId_Internal = DLT_UINT32_CONVERT_TUPLE(*AppId);
        ContextId_Internal = DLT_UINT32_CONVERT_TUPLE(*ContextId);
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
        /* !LINKSTO Dlt.DltControl.API.GetVerboseModeStatus.GetMode.WildCard,1 */
        if ((AppId_Internal == DLT_APP_ID_NULL) && (ContextId_Internal == DLT_CTX_ID_NULL))
        {
          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          *ModeStatus = Dlt_HeaderUseVerboseMode;
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

          retVal = DLT_CTRL_OK;
        }
        else
        {
          Dlt_ContextIdTablePtrType ContextIdTable;
          if (Dlt_GetContextEntry(DLT_NO_SESSION_ID, AppId_Internal, ContextId_Internal, &ContextIdTable) == E_OK)
          {
            /* !LINKSTO Dlt.swdd.DltControl.API.GetVerboseModeStatus.GetMode.NoWildCardStatusOff, 1,
                        Dlt.swdd.DltControl.API.GetVerboseModeStatus.GetMode.NoWildCardStatusOn, 1  */
            *ModeStatus = ContextIdTable->VerboseMode;
            retVal = DLT_CTRL_OK;
          }
        }
        /* !LINKSTO Dlt.DltControl.API.GetVerboseModeStatus.TupleNotRegistered,1 */
#else
        *ModeStatus = DLT_VERBOSE_MODE_OFF;
        retVal = DLT_CTRL_OK;
        TS_PARAM_UNUSED(AppId_Internal);
        TS_PARAM_UNUSED(ContextId_Internal);
#endif /* DLT_IMPLEMENT_VERBOSE == STD_ON */
      }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      else
      {
        /* !LINKSTO Dlt.DltControl.API.GetVerboseModeStatus.NullParameter,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_GetVerboseModeStatus, DLT_E_PARAM_POINTER);
      }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetVerboseModeStatus.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetVerboseModeStatus, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETVERBOSEMODESTATUS_EXIT(AppId_Internal, ContextId_Internal, ModeStatus, retVal);
  return retVal;
}


/*--[Dlt_SetGlobalLogging]------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetGlobalLogging(
  Dlt_GlobalLogStatusType  logStatus)
{
  /* !LINKSTO Dlt.swdd.DltControl.API.SetGlobalLoggingStatus,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETGLOBALLOGGING_ENTRY(logStatus);
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetGlobalLogging.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.SetGlobalLogging.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.SetGlobalLogging.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* !LINKSTO Dlt.swdd.DltControl.API.SetGlobalLogging, 1,
         Dlt.DltControl.API.SetGlobalLogging.InvalidLogLevel, 1 */
      if((logStatus == DLT_LOGGING_ENABLED) || (logStatus == DLT_LOGGING_DISABLED))
      {
        /* !LINKSTO Dlt.swdd.DltControl.API.SetGlobalLoggingStatusSafeExec,1 */
        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
        /* !LINKSTO Dlt.DltControl.API.SetGlobalLogging.GlobalLoggingON, 1,
        Dlt.DltControl.API.SetGlobalLogging.GlobalLoggingOFF, 1 */
        Dlt_GlobalLogStatus = logStatus;
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetGlobalLogging.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetGlobalLogging, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_SETGLOBALLOGGING_EXIT(retVal, logStatus);

  return retVal;
}


/*--[Dlt_SetUseECUID]-----------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetUseECUID(uint8 NewStatus)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETUSEECUID_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseECUID.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.SetUseECUID.DetOn.ReturnValue, 1 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (NewStatus == 0U)
      {
        if (Dlt_HeaderUseEcuId != 0U)
        {
          /* !LINKSTO Dlt.DltControl.API.SetUseECUID.ECUIDInHeader_OFF.Length, 1 */
          Dlt_HeaderLength -= DLT_ECU_HEADER_LENGTH;
        }
        /* !LINKSTO Dlt.DltControl.API.SetUseECUID.ECUIDInHeader_OFF.Flag, 1 */
        Dlt_HeaderUseEcuId = 0U;
        retVal = DLT_CTRL_OK;
      }
      if (NewStatus == 1U)
      {
        if (Dlt_HeaderUseEcuId == 0U)
        {
          /* !LINKSTO Dlt.DltControl.API.SetUseECUID.ECUIDInHeader_ON.Length, 1 */
          Dlt_HeaderLength += DLT_ECU_HEADER_LENGTH;
        }
        /* !LINKSTO Dlt.DltControl.API.SetUseECUID.ECUIDInHeader_ON.Flag, 1 */
        Dlt_HeaderUseEcuId = DLT_HEADER_ECU_ID_BIT;
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    /* !LINKSTO Dlt.DltControl.API.SetUseECUID.InvalidNewStatus, 1 */
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetUseECUID.DetOn.ErrorCode, 1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetUseECUID, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }
#if DLT_ENABLE_BSW_DISTRIBUTION == STD_ON
  /* !LINKSTO Dlt.DltControl.API.SetUseECUID.OnSlaveCore,1 */
  else
  {
    /* return DLT_CTRL_ERROR in case API is called from Slave core */
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETUSEECUID_EXIT(retVal, NewStatus);
  return retVal;
}


/*--[Dlt_SetUseSessionID]-------------------------------------------------------------------------*/
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetUseSessionID(uint8 NewStatus)
{
  /* !LINKSTO Dlt.SetUseSessionID.OutputParameters,1 */
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  DBG_DLT_SETUSESESSIONID_ENTRY(NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetUseSessionID.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      if (NewStatus == 0U)
      {
        /* !LINKSTO Dlt.DltControl.API.SetUseSessionID.StatusOFF,1 */
        if (Dlt_HeaderUseSessionID != 0U)
        {
          Dlt_HeaderLength -=DLT_SEID_HEADER_LENGTH;
        }
        Dlt_HeaderUseSessionID = 0U;
        retVal = DLT_CTRL_OK;
      }
      if (NewStatus == 1U)
      {
        /* !LINKSTO Dlt.DltControl.API.SetUseSessionID.StatusON,1 */
        if (Dlt_HeaderUseSessionID == 0U)
        {
          Dlt_HeaderLength +=DLT_SEID_HEADER_LENGTH;
        }
        Dlt_HeaderUseSessionID = DLT_HEADER_SESSION_ID_BIT;
        retVal = DLT_CTRL_OK;
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetUseSessionID.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetUseSessionID, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }
#if DLT_ENABLE_BSW_DISTRIBUTION == STD_ON
  /* !LINKSTO Dlt.DltControl.API.SetUseSessionID.OnSlaveCore,1 */
  else
  {
    /* return DLT_CTRL_ERROR in case API is called from Slave core */
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

  DBG_DLT_SETUSESESSIONID_EXIT(retVal, NewStatus);
  return retVal;
}


/*--[Dlt_SetVerboseMode]--------------------------------------------------------------------------*/
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetVerboseMode(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) AppId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) ContextId,
    Dlt_MessageLogLevelType NewStatus)
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetVerboseMode(
    Dlt_ApplicationIDType AppId,
    Dlt_ContextIDType ContextId,
    Dlt_MessageLogLevelType NewStatus)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

#if (DLT_IMPLEMENT_VERBOSE == STD_OFF)
  /* !LINKSTO Dlt.swdd.DltControl.API.SetVerboseMode.NotSupported,1 */
  retVal = DLT_CTRL_NOT_SUPPORTED;
  TS_PARAM_UNUSED(AppId);
  TS_PARAM_UNUSED(ContextId);
  TS_PARAM_UNUSED(NewStatus);

#else

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  Dlt_Internal_ApplicationIDType AppId_Internal = 0U;
  Dlt_Internal_ContextIDType ContextId_Internal = 0U;
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
  Dlt_ApplicationIDType AppId_Internal = AppId;
  Dlt_ContextIDType ContextId_Internal = ContextId;
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
  Dlt_AppIdTableIdxType ApplicationIdx = 0U;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;
  Dlt_AppToContextIdTableIdxType ContextIdx;
  Dlt_ContextIdTablePtrType LocalContextIdTable;

  DBG_DLT_SETVERBOSEMODE_ENTRY(AppId_Internal, ContextId_Internal, NewStatus);

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.OnMasterCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();

    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if ( (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) && (DLT_DEV_ERROR_DETECT == STD_ON) )
      if ( (AppId == NULL_PTR) || (ContextId == NULL_PTR) )
      {
        /* !LINKSTO Dlt.ASR43.DltControl.API.SetVerboseMode.DetOn.Null_Param,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_SetVerboseMode, DLT_E_PARAM_POINTER);
      }
      else
#endif /* #if ( (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) && (DLT_DEV_ERROR_DETECT == STD_ON) ) */
      {
        /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.InvalidLogLevel,1 */
        if ((NewStatus == DLT_VERBOSE_MODE_ON) ||
            (NewStatus == DLT_VERBOSE_MODE_OFF))
        {
          boolean VerboseModeChanged = FALSE;
          boolean needsNotification = FALSE;

          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
          MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
          MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
          AppId_Internal = DLT_UINT32_CONVERT_TUPLE(*AppId);
          ContextId_Internal = DLT_UINT32_CONVERT_TUPLE(*ContextId);
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
          /* AppId and ContextId fields are zero
           * set verbose mode for all ContextIDs with the requested mode */
          /* !LINKSTO Dlt.swdd.DltControl.API.SetVerboseMode.WildCard,1 */
          if (AppId_Internal == DLT_APP_ID_NULL)
          {
            /* !LINKSTO Dlt.swdd.DltControl.API.SetVerboseMode.WildCard.OnMasterCore,1 */
            /* go through all applications registered */
            for (ApplicationIdx = 0U; ApplicationIdx < MaxRegisteredAppld; ApplicationIdx++)
            {
              Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
              Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
              Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();

              /* for all contexts registered to the current application ID */
              for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
              {
                Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
                Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                /* set the log level to the requested level for the current context */
                LocalContextIdTable->VerboseMode = NewStatus;
                VerboseModeChanged = TRUE;
#if (DLT_NUM_SESSION_IDS > 0)
                /* !LINKSTO Dlt.swdd.DltControl.API.SetVerboseMode.WildCard.InformSWC,1 */
                if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
                {
                  TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_VERBOSE_NOTIFY_POS));
                  needsNotification = TRUE;
                }
#endif /* (DLT_NUM_SESSION_IDS > 0) */
              }
            }
            retVal = DLT_CTRL_OK;

            /* Set global status */
            if (NewStatus == DLT_VERBOSE_MODE_OFF)
            {
              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
              Dlt_HeaderUseVerboseMode = STD_OFF;
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();
            }
            else /* we already checked that only 2 possible values are at this point */
            {
              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
              Dlt_HeaderUseVerboseMode = STD_ON;
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();
            }
          }
          else if (ContextId_Internal == DLT_CTX_ID_NULL)
          {
            do
            {
              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
              Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId_Internal, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();
              /* only if the application Id is identified */
              if (ApplicationIdx != MaxRegisteredAppld)
              {
                Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

                Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
                Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
                Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
                Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
                {
                  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                  LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(ApplicationIdx, ContextIdx);
                  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                  LocalContextIdTable->VerboseMode = NewStatus;
                  VerboseModeChanged = TRUE;
#if (DLT_NUM_SESSION_IDS > 0)
                  if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
                  {
                    TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_VERBOSE_NOTIFY_POS));
                    needsNotification = TRUE;
                  }
#endif /* (DLT_NUM_SESSION_IDS > 0) */
                }
              }
              ApplicationIdx++;
            } while(ApplicationIdx < MaxRegisteredAppld);

            if ( TRUE == VerboseModeChanged )
            {
              retVal = DLT_CTRL_OK;
            }
          }
          else
          {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
            if (Dlt_SetVerboseModeInternal(AppId_Internal, ContextId_Internal, NewStatus, &needsNotification) == E_OK)
#else /* #if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431) */
            if (Dlt_SetVerboseModeInternal((Dlt_Internal_ApplicationIDType)AppId_Internal, (Dlt_Internal_ContextIDType)ContextId_Internal, NewStatus, &needsNotification) == E_OK)
#endif /* #if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431) */
            {
              retVal = DLT_CTRL_OK;
              VerboseModeChanged = TRUE;
            }
          }

          if (VerboseModeChanged == TRUE)
          {
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
            Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif
#if (DLT_NUM_SESSION_IDS > 0)
            if (TRUE == needsNotification)
            {
              Rte_IrTrigger_Dlt_RE_SetVerboseMode_Notify_SetVerboseModeTriggeringPoint();
            }
#endif
          }
        }
      }
    }
    else
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.DetOn,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetVerboseMode, DLT_E_NOT_INITIALIZED);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    }
  }
#if DLT_ENABLE_BSW_DISTRIBUTION == STD_ON
  /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.OnSlaveCore,1 */
  else
  {
    /* return DLT_CTRL_ERROR in case API is called from Slave core */
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

#endif /* DLT_IMPLEMENT_VERBOSE == STD_OFF*/

  DBG_DLT_SETVERBOSEMODE_EXIT(retVal, AppId_Internal, ContextId_Internal, NewStatus);
  return retVal;
}

#if (DLT_IMPLEMENT_VERBOSE != STD_OFF)
STATIC FUNC(Dlt_CtrlReturnType, DLT_CODE) Dlt_SetVerboseModeInternal(
    Dlt_Internal_ApplicationIDType AppId_Internal,
    Dlt_Internal_ContextIDType ContextId_Internal,
    Dlt_MessageLogLevelType NewStatus,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) needsNotification)
{
  Dlt_CtrlReturnType retVal = DLT_CTRL_ERROR;

  Dlt_AppIdTableIdxType MaxRegisteredAppld;
  Dlt_AppIdTableIdxType ApplicationIdx = 0U;
  Dlt_AppToContextIdTableIdxType ApplToCtxIdx = 0U;
  Dlt_AppToContextIdTableIdxType ContextIdx;
  Dlt_ContextIdTableIdxType CtIdx = 0U;
  Dlt_ContextIdTablePtrType LocalContextIdTable;

#if (DLT_NUM_SESSION_IDS == 0)
  TS_PARAM_UNUSED(needsNotification);
#endif

  if (Dlt_GetContextEntry(DLT_NO_SESSION_ID, AppId_Internal, ContextId_Internal, &LocalContextIdTable) == E_OK)
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
    MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
    MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
    Dlt_BSWMasterContextPtr->ExitExclusiveArea();

    do
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, AppId_Internal, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      if (ApplicationIdx != MaxRegisteredAppld)
      {
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[ApplicationIdx];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[ApplicationIdx];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        for (ContextIdx = 0U; ContextIdx < Dlt_LocalAppToContextIdTableIdx; ContextIdx++)
        {
          /* At this point at least a valid context will be found */
          if (Dlt_CheckForRegisteredContext(ContextId_Internal, ApplicationIdx, &CtIdx, &ApplToCtxIdx))
          {
            Dlt_BSWMasterContextPtr->EnterExclusiveArea();
            LocalContextIdTable = &Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[CtIdx];
            Dlt_BSWMasterContextPtr->ExitExclusiveArea();

            /* !LINKSTO SWS_Dlt_00069,1, SWS_Dlt_00057,1 */
            LocalContextIdTable->VerboseMode = NewStatus;

#if (DLT_NUM_SESSION_IDS > 0)
            if (LocalContextIdTable->SessionIdTableIdx != DLT_NO_SESSION_ID)
            {
              TS_AtomicSetBit_8((&LocalContextIdTable->Flags), (DLT_CNTX_VERBOSE_NOTIFY_POS));
              *needsNotification = TRUE;
            }
#endif /* (DLT_NUM_SESSION_IDS > 0) */
          }
        }

      }
      ApplicationIdx++;
    } while(ApplicationIdx < MaxRegisteredAppld);
    retVal = DLT_CTRL_OK;
  }
  else
  {
    /* unregistered request */
    /* !LINKSTO Dlt.DltControl.API.SetVerboseMode.TupleNotRegistered,1 */
    retVal = DLT_CTRL_ERROR;
  }

  return retVal;
}
#endif

#define DLT_STOP_SEC_CODE
#include <Dlt_MemMap.h>

#if (DLT_INCLUDE_RTE == STD_ON)
#define Dlt_START_SEC_CODE
#else
#define DLT_START_SEC_CODE
#endif
#include <Dlt_MemMap.h>

#if (DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431)
/* !LINKSTO EB_Ref_SWS_Dlt_00288_1, 1 */
#if (DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON)
/*--[Dlt_StorePersistent]-------------------------------------------------------------------------*/
/* Deviation MISRAC2012-2 */
FUNC(Dlt_ReturnType, DLT_CODE) Dlt_StorePersistent(Dlt_SessionIDType session_id)
{
  Dlt_ReturnType retVal = DLT_E_ERROR_UNKNOWN;

  DBG_DLT_STOREPERSISTENT_ENTRY();

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_OFF)
  TS_PARAM_UNUSED(session_id);
#endif
  /* !LINKSTO Dlt_StorePersistent.NoReentrancy, 1 */
#if (DLT_DEV_ERROR_DETECT == STD_ON)
  if(TRUE == NvMwriteStatusLock)
  {
    DLT_DET_REPORT_ERROR(DLT_SID_StorePersistent, DLT_E_REQUEST_NOT_ACCEPTED);
  }
  else
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
  {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    NvMwriteStatusLock = TRUE;
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
    DBG_DLT_NVMSTORAGE_INJECTION();
/* !LINKSTO Dlt.swdd.DltPersistentStorage.MulticoreSupport,1 */
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    /* !LINKSTO Dlt.swdd.DltPersistentStorage.MulticoreSupportGetCoreId,1, Dlt.swdd.DltPersistentStorage.MulticoreSupportMasterCoreId,1 */
    if (GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
    {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      /* Deviation TASKING-4 */
      if (Dlt_InitStateMaster != DLT_INITIALIZED_PERSISTENT)
      {
        /* !LINKSTO Dlt.DltControl.API.StoreConfiguration.DetOn,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_StorePersistent, DLT_E_NOT_INITIALIZED_PERSISTENT);
      }
      else
#endif /* DLT_DEV_ERROR_DETECT != STD_ON */
      {
        retVal = Dlt_IssueWriteRequestToNvM();
      }
    }
/* !LINKSTO Dlt.swdd.DltPersistentStorage.MulticoreSupport,1 */
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    else
    {
      Std_ReturnType SchmSlaveSendSessID;

      /* WARNING: SatelliteContextPtr is NULL_PTR on MASTER core */
      Dlt_BSWSatelliteContextPtrType SatelliteContextPtr = Dlt_GetSatelliteContextPtr();
      /* !LINKSTO Dlt.swdd.DltPersistentStorage.MulticoreSupportSlaveCoreId,1 */
      SchmSlaveSendSessID = SatelliteContextPtr->SlaveSendSessionId(session_id);
      /* !LINKSTO Dlt.swdd.DltPersistentStorage.MulticoreSupportSlaveCoreIdReturnValue,1,
         Dlt.swdd.DltPersistentStorage.MulticoreSupportSlaveCoreIdReturnValueError, 1    */
      retVal = (SchmSlaveSendSessID != SCHM_E_OK) ? DLT_E_ERROR_UNKNOWN : DLT_E_OK;
    }
#endif
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    NvMwriteStatusLock = FALSE;
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
  }
  DBG_DLT_STOREPERSISTENT_EXIT(retVal);
  return retVal;
}

#endif /* DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON */
#endif /* DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431 */

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)

/*-----------------------------[Dlt_FindChannelIdEntry]------------------*/
STATIC FUNC(void, DLT_CODE) Dlt_FindChannelIdEntry(
    P2VAR(Dlt_ChnIdTableIdxType, AUTOMATIC, DLT_APPL_DATA) logChannelIndex,
    P2CONST(Dlt_LogChannelNameType, AUTOMATIC, DLT_APPL_CONST) LogChannelId
    )
{
  Dlt_ChnIdTableIdxType chnIndex = 0U;
  uint8 LocalDataLength;
  uint8 localChannelIndex;
  uint8 ptrOffset;

  for (chnIndex = 0U; chnIndex < DLT_TXPDU_NO; chnIndex++ )
  {
    /* Loop has been broken we need to reset local variables for a new search */
    LocalDataLength = DLT_CHANNEL_ID_LENGTH;
    localChannelIndex = 0U;
#if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) )
    ptrOffset = 0U;
#else /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_OFF) && (CPU_BYTE_ORDER == LOW_BYTE_FIRST) ) */
    ptrOffset = 3U;
#endif /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) ) */
    while (LocalDataLength > 0U)
    {
      if ((char)LogChannelId[0][ptrOffset] != *(&Dlt_CfgLogChannel[chnIndex].DltLogChannelId[localChannelIndex]))
      {
        break;
      }
      else
      {
        /* !LINKSTO Dlt.Config.DltLogChannelEndiannessEnable,1 */
#if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) )
        ptrOffset++;
#else /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_OFF) && (CPU_BYTE_ORDER == LOW_BYTE_FIRST) ) */
        /* !LINKSTO Dlt.Config.DltLogChannelEndiannessDisable,1 */
        ptrOffset--;
#endif /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) ) */
        localChannelIndex++;
        LocalDataLength--;
      }
    }
    if (0U == LocalDataLength)
    {
      *logChannelIndex = chnIndex;
      break;
    }
  }
  if (DLT_TXPDU_NO == chnIndex)
  {
    *logChannelIndex = chnIndex;
  }
}

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON)

/*--[Dlt_ASR43_SetLogLevel]-----------------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetLogLevel(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) appId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) contextId,
    Dlt_MessageLogLevelType newLogLevel)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_CtrlReturnType retValASR42 = DLT_CTRL_ERROR;

  Dlt_Internal_ApplicationIDType appId_Internal = 0U;
  Dlt_Internal_ContextIDType contextId_Internal = 0U;

  DBG_DLT_SET_LOGLEVEL_ENTRY(appId_Internal, contextId_Internal, newLogLevel);

#if (DLT_DEV_ERROR_DETECT == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetLogLevel.DetOn.Null_Param, 1 */
  if ( (appId == NULL_PTR) || (contextId == NULL_PTR) )
  {
    DLT_DET_REPORT_ERROR(DLT_SID_SetLogLevel, DLT_E_PARAM_POINTER);
  }
  else
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
  {
    appId_Internal = DLT_UINT32_CONVERT_TUPLE(*appId);
    contextId_Internal = DLT_UINT32_CONVERT_TUPLE(*contextId);

    retValASR42 = Dlt_ASR42_SetLogLevel(appId_Internal, contextId_Internal, newLogLevel);
  }

  if (retValASR42 == DLT_CTRL_OK)
  {
    retVal = E_OK;
  }

  DBG_DLT_SET_LOGLEVEL_EXIT(retVal, appId_Internal, contextId_Internal, newLogLevel);

  return retVal;
}


/*--[Dlt_ASR43_SetTraceStatus]--------------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetTraceStatus(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) appId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) contextId,
    boolean newTraceStatus)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_CtrlReturnType retValASR42 = DLT_CTRL_ERROR;

  Dlt_Internal_ApplicationIDType appId_Internal = 0U;
  Dlt_Internal_ContextIDType contextId_Internal = 0U;

  DBG_DLT_SET_TRACESTATUS_ENTRY(appId_Internal, contextId_Internal, newTraceStatus);

#if (DLT_DEV_ERROR_DETECT == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetTraceStatus.DetOn.Null_Param, 1 */
  if ( (appId == NULL_PTR) || (contextId == NULL_PTR) )
  {
    DLT_DET_REPORT_ERROR(DLT_SID_SetTraceStatus, DLT_E_PARAM_POINTER);
  }
  else
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
  {
    appId_Internal = DLT_UINT32_CONVERT_TUPLE(*appId);
    contextId_Internal = DLT_UINT32_CONVERT_TUPLE(*contextId);

    retValASR42 = Dlt_ASR42_SetTraceStatus(appId_Internal, contextId_Internal, (Dlt_MessageTraceStatusType)newTraceStatus);
  }

  if (retValASR42 == DLT_CTRL_OK)
  {
    retVal = E_OK;
  }

  DBG_DLT_SET_TRACESTATUS_EXIT(retVal, appId_Internal, contextId_Internal, newTraceStatus);

  return retVal;
}

/*--[Dlt_GetLogChannelNames]----------------------------------------------------------------------*/
/* !LINKSTO Dlt.ControlApi.GetLogChannelNames,1 */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetLogChannelNames(
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) numberOfLogChannels,
    P2VAR(Dlt_LogChannelNameArrayType, AUTOMATIC, DLT_APPL_DATA) logChannelNames)
{
  Dlt_ChnIdTableIdxType chnIdx;
  Std_ReturnType retVal = E_NOT_OK;

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetLogChannelNames.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.GetLogChannelNames.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();
    /* Reentrancy lock */
    if(Dlt_GetLogChannelNamesLock == FALSE)
    {
      Dlt_GetLogChannelNamesLock = TRUE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      DBG_DLT_GETLOGCHANNELNAMES_ENTRY(numberOfLogChannels, logChannelNames);

      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      /* Deviation TASKING-5 */
      if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
        /* !LINKSTO Dlt.ASR431.SWS_Dlt_00718,1 */
        /* number of configured log channels */
        /* Deviation TASKING-6 */
        if((numberOfLogChannels != NULL_PTR) && (logChannelNames != NULL_PTR))
        {
          *numberOfLogChannels = DLT_TXPDU_NO;
          for (chnIdx = 0; chnIdx < DLT_TXPDU_NO; chnIdx++)
          {
            /* copy data into the buffer */
            Dlt_ReturnLogChannelName((uint8*)&(*logChannelNames)[chnIdx],chnIdx);
          }
          retVal = E_OK;
        }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        else
        {
          /* !LINKSTO Dlt.DltControl.API.GetLogChannelNames.DetOn.Dlt_NullParam,1 */
          /* The SWS does not tell us which error we should return in this
             case. DLT_E_PARAM_POINTER is specified as DET error. */
          DLT_DET_REPORT_ERROR(DLT_SID_GetLogChannelNames, DLT_E_PARAM_POINTER);
        }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
      else
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        /* !LINKSTO Dlt.DltControl.API.GetLogChannelNames.DetOn.Dlt_NotInit,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_GetLogChannelNames, DLT_E_NOT_INITIALIZED);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }

      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      Dlt_GetLogChannelNamesLock = FALSE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
    else
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
  }

  DBG_DLT_GETLOGCHANNELNAMES_EXIT(numberOfLogChannels, logChannelNames);
  /* !LINKSTO Dlt.DltControl.API.GetLogChannelNames.RetVal,1 */
  return retVal;
}


/*--[Dlt_GetLogChannelThreshold]------------------------------------------------------------------*/
/* !LINKSTO Dlt.ControlApi.GetLogChannelThreshold,1 */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetLogChannelThreshold(
    P2CONST(Dlt_LogChannelNameType, AUTOMATIC, DLT_APPL_CONST) logChannelName,
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) logChannelThreshold,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) traceStatus)
{
  Std_ReturnType retVal = E_NOT_OK;

  DBG_DLT_GETLOGCHANNELTHRESHOLD_ENTRY(logChannelName, logChannelThreshold,traceStatus);
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.GetLogChannelThreshold.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.GetLogChannelThreshold.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* Deviation TASKING-7 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* Initialization prevents illegal memory access */
      Dlt_ChnIdTableIdxType ChannelIdx = DLT_TXPDU_NO;
      if ((logChannelThreshold != NULL_PTR) && (traceStatus != NULL_PTR) && (logChannelName != NULL_PTR))
      {
        /* Check if the Channel with the requested channel id is configured */
        Dlt_FindChannelIdEntry(&ChannelIdx, logChannelName);

        /* !LINKSTO Dlt.ASR431.SWS_Dlt_00726,1 */
        if(ChannelIdx != DLT_TXPDU_NO)
        {
          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          /* !LINKSTO Dlt.ASR431.SWS_Dlt_00726, 1,
                      Dlt.GetLogChannelThreshold.RetVal, 1 */
          /* check if the the channel threshold is valid */
          if((Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogChannelThreshold  == DLT_LOG_DEFAULT) ||
             (Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogChannelThreshold  <= DLT_LOG_VERBOSE))
          {
            /* !LINKSTO Dlt.ASR431.SWS_Dlt_00725,1 */
            *traceStatus = Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogTraceStatusFlag;
            *logChannelThreshold = Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogChannelThreshold;
            retVal = E_OK;
          }
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();
        }
      }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      else
      {
        /* !LINKSTO Dlt.DltControl.API.GetLogChannelThreshold.DetOn.Dlt_NullParam,1 */
        /* The SWS does not tell us which error we should return in this
           case. DLT_E_PARAM_POINTER is specified as DET error. */
        DLT_DET_REPORT_ERROR(DLT_SID_GetLogChannelThreshold, DLT_E_PARAM_POINTER);
      }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.GetLogChannelThreshold.DetOn.Dlt_NotInit,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_GetLogChannelThreshold, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_GETLOGCHANNELTHRESHOLD_EXIT(logChannelName, logChannelThreshold,traceStatus);
  return retVal;
}

/*--[Dlt_SetLogChannelAssignment]-----------------------------------------------------------------*/
/* !LINKSTO Dlt.ControlApi.SetLogChannelAssignment,1 */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetLogChannelAssignment(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) appId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) contextId,
    P2CONST(Dlt_LogChannelNameType, AUTOMATIC, DLT_APPL_CONST) logChannelName,
    Dlt_AssignmentOperationType addRemoveOp)
{
  Dlt_ChnIdTableIdxType ChannelIdx = 0U;
  Dlt_AppIdTableIdxType ApplicationIdx = 0U;
  Dlt_AppToContextIdTableIdxType ContextIdx = 0U;
  Std_ReturnType retVal = E_NOT_OK;

  Dlt_Internal_ApplicationIDType appId_Internal = 0U;
  Dlt_Internal_ContextIDType contextId_Internal = 0U;
  Dlt_AppToContextIdTableIdxType ApplToCtxIdx   = 0U;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetLogChannelAssignment.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.SetLogChannelAssignment.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();
    /* Reentrancy lock */
    if (Dlt_SetLogChannelAssignmentLock == FALSE)
    {
      Dlt_SetLogChannelAssignmentLock = TRUE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      DBG_DLT_SETLOGCHANNELASSIGNMENT_ENTRY(appId, contextId, logChannelName, addRemoveOp);

      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      /* Deviation TASKING-8 */
      if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        if ( (logChannelName != NULL_PTR) && (appId != NULL_PTR) && (contextId != NULL_PTR) )
        {
          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
          MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
          MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

          /* !LINKSTO Dlt.ASR431.SWS_Dlt_00722,1, Dlt.ControlApi.SetLogChannelAssignment.InvalidChannel,1 */
          Dlt_FindChannelIdEntry( &ChannelIdx, logChannelName);
          /* channel id is a valid one */
          /* !LINKSTO Dlt.ASR431.SWS_Dlt_00722,1 */
          if (ChannelIdx != DLT_TXPDU_NO)
          {
            appId_Internal = DLT_UINT32_CONVERT_TUPLE(*appId);
            contextId_Internal = DLT_UINT32_CONVERT_TUPLE(*contextId);

            if (appId_Internal != DLT_APP_ID_NULL)
            {
              /* Context Id should be valid , already registered one */
              if (contextId_Internal != DLT_CTX_ID_NULL)
              {
                do
                {
                  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                  /* !LINKSTO Dlt.ASR431.SWS_Dlt_00722,1 */
                  Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, appId_Internal, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
                  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                  /* Application Id should be valid, already registered */
                  if (ApplicationIdx != MaxRegisteredAppld)
                  {
                    /* for all contexts registered to the current application ID */
                    if (Dlt_CheckForRegisteredContext(contextId_Internal, ApplicationIdx, &ContextIdx, &ApplToCtxIdx) == TRUE)
                    {
                      retVal = E_OK;
                    }
                  }
                  ApplicationIdx++;
                } while (ApplicationIdx < MaxRegisteredAppld);

#if (DLT_DEV_ERROR_DETECT == STD_ON)
                if(retVal != E_OK)
                {
                  /* !LINKSTO Dlt.DltControl.API.SetLogChannelAssignment.DetOn.CtxtNotYetReg,1 */
                  DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_CONTEXT_NOT_YET_REG);
                }
#endif
              }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
              else
              {
                /* !LINKSTO Dlt.DltControl.API.SetLogChannelAssignment.DetOn.CtxtNotYetReg,1 */
                DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_WRONG_PARAMETERS);
              }
#endif
            }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
            else
            {
              DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_WRONG_PARAMETERS);
            }
#endif
          }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
          else
          {
            DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_WRONG_PARAMETERS);
          }
#endif
          /* add/remove application id to log channel index table */
          if (retVal == E_OK)
          {
            ApplicationIdx = 0U;

            do
            {
              Dlt_BSWMasterContextPtr->EnterExclusiveArea();
              Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, appId_Internal, &Dlt_BSWMasterContextPtr->CoreContext, &ApplicationIdx);
              Dlt_BSWMasterContextPtr->ExitExclusiveArea();

              if (ApplicationIdx != MaxRegisteredAppld)
              {
                for (ContextIdx = 0U; ContextIdx < MaxRegisteredAppld; ContextIdx++)
                {
                  Dlt_ContextIdTableIdxType  CtIdx = 0U;

                  if (Dlt_CheckForRegisteredContext(contextId_Internal, ApplicationIdx, &CtIdx, &ApplToCtxIdx) == TRUE)
                  {
                    Dlt_ContextIdTablePtrType LocalContextIdTable;

                    Dlt_BSWMasterContextPtr->EnterExclusiveArea();
                    LocalContextIdTable = &Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[CtIdx];
                    Dlt_BSWMasterContextPtr->ExitExclusiveArea();

                    if (addRemoveOp == DLT_ASSIGN_ADD)
                    {
                      /* !LINKSTO Dlt.ASR431.SWS_Dlt_00720,1 */
                      /* Assign channel to all contexts of the found app */
                      LocalContextIdTable->ChannelsIdx[ChannelIdx] = TRUE;
                    }
                    else if (addRemoveOp == DLT_ASSIGN_REMOVE)
                    {
                      /* !LINKSTO Dlt.ASR431.SWS_Dlt_00721,1 */
                      /* Assign channel to all contexts of the found app */
                      LocalContextIdTable->ChannelsIdx[ChannelIdx] = FALSE;
                    }
                    else
                    {
                      /* !LINKSTO Dlt.ControlApi.SetLogChannelAssignment.InvalidAddRemoveOp,1 */
                      /* requested operation is invalid. Set return value to E_NOT_OK  */
                      retVal = E_NOT_OK;
                      break;
                    }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
                    Dlt_SendTablesToSatellites(DLT_ALL_SATELLITES);
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
                  }
                }
              }
              ApplicationIdx++;
            } while (ApplicationIdx < MaxRegisteredAppld);

          }
        }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        else
        {
          DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_PARAM_POINTER);
        }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
      else
      {
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
        /* !LINKSTO Dlt.DltControl.API.SetLogChannelAssignment.DetOn.Dlt_NotInit,1 */
        DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelAssignment, DLT_E_NOT_INITIALIZED);
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
      }
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();

      Dlt_SetLogChannelAssignmentLock = FALSE;

      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
    else
    {
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();
    }
  }

  DBG_DLT_SETLOGCHANNELASSIGNMENT_EXIT(appId_Internal, contextId_Internal, logChannelName, addRemoveOp);
  return retVal;
}


/*--[Dlt_SetLogChannelThreshold]------------------------------------------------------------------*/
/* !LINKSTO Dlt.ControlApi.SetLogChannelThreshold,1 */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetLogChannelThreshold(
    P2CONST(Dlt_LogChannelNameType, AUTOMATIC, DLT_APPL_CONST) logChannelName,
    Dlt_MessageLogLevelType newThreshold,
    boolean newTraceStatus
)
{
  Std_ReturnType retVal = E_NOT_OK;

  DBG_DLT_SETLOGCHANNELTHRESHOLD_ENTRY(logChannelName, newThreshold, newTraceStatus);
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  /* !LINKSTO Dlt.DltControl.API.SetLogChannelThreshold.OnMasterCore,1 */
  /* !LINKSTO Dlt.DltControl.API.SetLogChannelThreshold.OnSlaveCore,1 */
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* Deviation TASKING-9 */
    if (Dlt_InitStateMaster != DLT_UNINITIALIZED)
    {
      /* Initialization prevents illegal memory access */
      Dlt_ChnIdTableIdxType ChannelIdx = DLT_TXPDU_NO;
      Dlt_FindChannelIdEntry(&ChannelIdx, logChannelName);

      /* !LINKSTO Dlt.ASR431.SWS_Dlt_00724,1 */
      /* channel id is a valid one ? */
      if (ChannelIdx != DLT_TXPDU_NO)
      {
        /* the log level is in range */
        if((newThreshold == DLT_LOG_DEFAULT) ||
           (newThreshold <= DLT_LOG_VERBOSE))
        {
          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          /* !LINKSTO Dlt.ASR431.SWS_Dlt_00723,1 */
          Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogChannelThreshold = newThreshold;
          Dlt_LogChannelThresholdInfo[ChannelIdx].DltLogTraceStatusFlag = newTraceStatus;
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();
          /* !LINKSTO Dlt.SetLogChannelThreshold.RetVal,1 */
          retVal = E_OK;
        }
      }
    }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    else
    {
      /* !LINKSTO Dlt.DltControl.API.SetLogChannelThreshold.DetOn.Dlt_NotInit,1 */
      DLT_DET_REPORT_ERROR(DLT_SID_SetLogChannelThreshold, DLT_E_NOT_INITIALIZED);
    }
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  }

  DBG_DLT_SETLOGCHANNELTHRESHOLD_EXIT(logChannelName, newThreshold, newTraceStatus);
  return retVal;
}

#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON */

/*--[Dlt_ASR43_GetDefaultLogLevel]----------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetDefaultLogLevel(
    P2VAR(Dlt_MessageLogLevelType, AUTOMATIC, DLT_APPL_DATA) defaultLogLevel)
{
  /* !LINKSTO Dlt.ASR431.SWS_Dlt_00735, 1 */
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_MessageLogLevelType retValASR42;

  DBG_DLT_GET_DEFAULTLOGLEVEL_ENTRY(defaultLogLevel);
#if (DLT_DEV_ERROR_DETECT == STD_ON)
  if (defaultLogLevel == NULL_PTR)
  {
    /* !LINKSTO Dlt.DltControl.API.GetDefaultLogLevel.DetOn.ParamNULL, 1 */
    DLT_DET_REPORT_ERROR(DLT_SID_GetDefaultLogLevel, DLT_E_PARAM_POINTER);
  }
  else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  {
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
    {
      retValASR42 = Dlt_ASR42_GetDefaultLogLevel();
      if (retValASR42 != DLT_DFT_INVALID_LOGLEVEL)
      {
        *defaultLogLevel = retValASR42;
        /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00734, 1 */
        retVal = E_OK;
      }
    }

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    else
    {
      *defaultLogLevel = (Dlt_MessageLogLevelType) DLT_LOG_OFF;
      retVal = E_NOT_OK;
    }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  }
  DBG_DLT_GET_DEFAULTLOGLEVEL_EXIT(retVal, defaultLogLevel);

  return retVal;
}

/*--[Dlt_ASR43_GetDefaultTraceStatus]-------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetDefaultTraceStatus(
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) traceStatus)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_MessageTraceStatusType defaultTraceStatus;

  DBG_DLT_GET_DEFAULTTRACESTATUS_ENTRY(traceStatus);
#if (DLT_DEV_ERROR_DETECT == STD_ON)
  if (traceStatus == NULL_PTR)
  {
    /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.DetOn.Dlt_NullParam, 1 */
    DLT_DET_REPORT_ERROR(DLT_SID_GetDefaultTraceStatus, DLT_E_PARAM_POINTER);
  }
  else
#endif /* DLT_DEV_ERROR_DETECT == STD_ON */
  {
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
    {
      defaultTraceStatus = Dlt_ASR42_GetDefaultTraceStatus();

      if ( (defaultTraceStatus == DLT_TRACE_STATUS_ON) ||
          (defaultTraceStatus == DLT_TRACE_STATUS_OFF) )
      {
        /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00747, 1 */
        retVal = E_OK;
        /* !LINKSTO Dlt.DltControl.API.GetDefaultTraceStatus.ReturnValue,1 */
        *traceStatus = defaultTraceStatus;
      }
    }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
    else
    {
      /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00748, 1 */
      retVal = E_NOT_OK;
      *traceStatus = (boolean) DLT_TRACE_STATUS_OFF;
    }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  }

  DBG_DLT_GET_DEFAULTTRACESTATUS_EXIT(retVal, traceStatus);
  return retVal;
}


/*--[Dlt_ASR43_GetTraceStatus]--------------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_GetTraceStatus(
    P2CONST(Dlt_ApplicationIDType, AUTOMATIC, DLT_APPL_CONST) appId,
    P2CONST(Dlt_ContextIDType, AUTOMATIC, DLT_APPL_CONST) contextId,
    P2VAR(boolean, AUTOMATIC, DLT_APPL_DATA) traceStatus)
{
  /* !LINKSTO Dlt_GetTraceStatus.Return.Error.ASR.43,1 */
  Std_ReturnType retVal = E_NOT_OK;
  /* !LINKSTO Dlt_GetTraceStatus.Return.Error.ASR.42,1 */
  Dlt_CtrlReturnType retValASR42 = DLT_CTRL_ERROR;

  Dlt_Internal_ApplicationIDType AppId_Internal = 0U;
  Dlt_Internal_ContextIDType ContextId_Internal = 0U;

  DBG_DLT_GET_TRACESTATUS_ENTRY(AppId_Internal, ContextId_Internal, traceStatus);

#if (DLT_DEV_ERROR_DETECT == STD_ON)
  if ( (appId == NULL_PTR) || (contextId == NULL_PTR) )
  {
    /* !LINKSTO Dlt.DltControl.API.GetTraceStatus.DetOn.ParamNULL, 1*/
    DLT_DET_REPORT_ERROR(DLT_SID_GetTraceStatus, DLT_E_PARAM_POINTER);
  }
  else
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
  {
    AppId_Internal = DLT_UINT32_CONVERT_TUPLE(*appId);
    ContextId_Internal = DLT_UINT32_CONVERT_TUPLE(*contextId);

    retValASR42 = Dlt_ASR42_GetTraceStatus(AppId_Internal, ContextId_Internal, traceStatus);
  }

  if (retValASR42 == DLT_CTRL_OK)
  {
    retVal = E_OK;
  }

  DBG_DLT_GET_TRACESTATUS_EXIT(retVal, AppId_Internal, ContextId_Internal, traceStatus);

  return retVal;
}


/*--[Dlt_ASR43_SetDefaultLogLevel]----------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetDefaultLogLevel(Dlt_MessageLogLevelType newLogLevel)
{
  /* !LINKSTO Dlt.ASR431.SWS_Dlt_00742, 1 */
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_CtrlReturnType retValASR42 = DLT_CTRL_ERROR;

  DBG_DLT_SET_DEFAULTLOGLEVEL_ENTRY(newLogLevel);

  retValASR42 = Dlt_ASR42_SetDefaultLogLevel(newLogLevel);

  if (retValASR42 == DLT_CTRL_OK)
  {
    /* !LINKSTO Dlt.ASR431.SWS_Dlt_00741, 1 */
    retVal = E_OK;
  }

  DBG_DLT_SET_DEFAULTLOGLEVEL_EXIT(retVal, newLogLevel);

  return retVal;
}


/*--[Dlt_ASR43_SetDefaultTraceStatus]-------------------------------------------------------------*/
/* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00743,1 */
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetDefaultTraceStatus(boolean newTraceStatus)
{
  Std_ReturnType retVal;

  DBG_DLT_SET_DEFAULTTRACESTATUS_ENTRY(newTraceStatus);

  if (Dlt_ASR42_SetDefaultTraceStatus(newTraceStatus) == DLT_CTRL_OK)
  {
    /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00744, 1 */
    retVal = E_OK;
  }
  else
  {
    /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00745,1 */
    retVal = E_NOT_OK;
  }

  DBG_DLT_SET_DEFAULTTRACESTATUS_EXIT(retVal, newTraceStatus);

  return retVal;
}


/*--[Dlt_ASR43_SetMessageFiltering]---------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_SetMessageFiltering(boolean status)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_CtrlReturnType retValASR42;

  DBG_DLT_SET_MESSAGEFILTERING_ENTRY(status);

  retValASR42 = Dlt_ASR42_SetMessageFiltering(status);

  if (retValASR42 == DLT_CTRL_OK)
  {
    retVal = E_OK;
  }

  DBG_DLT_SET_MESSAGEFILTERING_EXIT(retVal, status);
  return retVal;
}


/*--[Dlt_ResetToFactoryDefault]-------------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_ResetToFactoryDefault(void)
{
  Std_ReturnType retVal = E_NOT_OK;

  DBG_DLT_RESETTOFACTORYDEFAULT_ENTRY();

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  if (GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.Reset.NvM, 1 */
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.Reset.NoNvM, 1 */

    Dlt_BSWMasterContextPtr->EnterExclusiveArea();

    /* Reset the default log level and trace status to the initial configuration */
    Dlt_DefaultLogLevel = DLT_DEFAULT_MAX_LOG_LEVEL;
    Dlt_DefaultTraceStatus = DLT_DEFAULT_TRACE_STATUS;

    /* Reset all log channel threshold and trace status values to the initial configuration */
    TS_MemCpy(&Dlt_LogChannelThresholdInfo[0U],
           &Dlt_CfgLogChannelThresholdInfo[0U],
     sizeof(Dlt_CfgLogChannelThresholdInfo));

    /* Reset the threshold of the default log channel to the initial value */
    Dlt_LogChannelThresholdInfo[DEFAULT_LOG_CHN_IDX].DltLogChannelThreshold =
        Dlt_CfgLogChannelThresholdInfo[DEFAULT_LOG_CHN_IDX].DltLogChannelThreshold;

    /* Reset the trace status of the default log channel to the initial value */
    Dlt_LogChannelThresholdInfo[DEFAULT_LOG_CHN_IDX].DltLogTraceStatusFlag =
        Dlt_CfgLogChannelThresholdInfo[DEFAULT_LOG_CHN_IDX].DltLogTraceStatusFlag;

    Dlt_BSWMasterContextPtr->ExitExclusiveArea();

#if (DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON)
    /* Delete the stored configuration in the NvM block */
    /* !LINKSTO Dlt.OptionalInterfaces, 1 */
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.Delete.NvM, 1 */
    if (NvM_EraseNvBlock(DLT_STORE_NATIVE_NVRAM_BLOCK_ID) == E_OK)
    {
      /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.RetVal.OK.Delete.NvM, 1 */
      retVal = E_OK;
    }
    else
    {
      /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.RetVal.NOK.Delete.NvM, 1 */
      retVal = E_NOT_OK;
    }
#else
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.RetVal.OK.Reset.NvM, 1 */
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.RetVal.OK.Reset.NoNvM, 1 */
    retVal = E_OK;
#endif /* DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON */
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  else
  {
    /* !LINKSTO Dlt.ControlApi.ResetToFactoryDefault.OnSlaveCore, 1 */
    retVal = E_NOT_OK;
  }
#endif

  DBG_DLT_RESETTOFACTORYDEFAULT_EXIT(retVal);

  return retVal;
}


/*--[Dlt_StoreConfiguration]----------------------------------------------------------------------*/
FUNC(Std_ReturnType, DLT_CODE) Dlt_ASR43_StoreConfiguration(void)
{
  /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00729_StoreConfig, 1 */
  Std_ReturnType retVal = E_NOT_OK;

  DBG_DLT_STORECONFIGURATION_ENTRY();

#if (DLT_IMPLEMENT_NV_RAM_STORAGE == STD_OFF)
  /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00737, 1 */
  retVal = DLT_E_NOT_SUPPORTED;
#else /* DLT_IMPLEMENT_NV_RAM_STORAGE == STD_ON */

#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  if(GetCoreID() == DLT_MASTER_CORE)
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */
  {
    /* !LINKSTO Dlt.DltControl.API.StoreConfiguration.NoReentrancy, 1*/
#if (DLT_DEV_ERROR_DETECT == STD_ON)
    if(TRUE == NvMwriteStatusLock)
    {
      DLT_DET_REPORT_ERROR(DLT_SID_StoreConfiguration, DLT_E_REQUEST_NOT_ACCEPTED);
    }
    else
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
    {
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      NvMwriteStatusLock = TRUE;
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
      DBG_DLT_NVMSTORAGE_INJECTION();
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      /* Deviation TASKING-10 */
      if (Dlt_InitStateMaster != DLT_INITIALIZED_PERSISTENT)
      {
        DLT_DET_REPORT_ERROR(DLT_SID_StoreConfiguration, DLT_E_NOT_INITIALIZED_PERSISTENT);
      }
      else
#endif /* DLT_DEV_ERROR_DETECT != STD_ON */
      {
        /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00738, 1 */
        retVal = Dlt_IssueWriteRequestToNvM();
      }
#if (DLT_DEV_ERROR_DETECT == STD_ON)
      NvMwriteStatusLock = FALSE;
#endif /* #if (DLT_DEV_ERROR_DETECT == STD_ON) */
    }
  }
#if (DLT_ENABLE_BSW_DISTRIBUTION == STD_ON)
  else
  {
    Std_ReturnType SchmSlaveSendSessID;

    /* WARNING: SatelliteContextPtr is NULL_PTR on MASTER core */
    Dlt_BSWSatelliteContextPtrType SatelliteContextPtr = Dlt_GetSatelliteContextPtr();
    SchmSlaveSendSessID = SatelliteContextPtr->SlaveSendSessionId(0U);

    /* !LINKSTO Dlt.ASR431.Ref_SWS_Dlt_00738, 1 */
    retVal = (SchmSlaveSendSessID != SCHM_E_OK) ? E_NOT_OK : E_OK;
  }
#endif /* DLT_ENABLE_BSW_DISTRIBUTION == STD_ON */

#endif /* DLT_IMPLEMENT_NV_RAM_STORAGE == STD_OFF */

  /* Deviation TASKING-11 */
  DBG_DLT_STORECONFIGURATION_EXIT(retVal);
  return retVal;
}

#endif /* DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431 */

#if (DLT_INCLUDE_RTE == STD_ON)
#define Dlt_STOP_SEC_CODE
#else
#define DLT_STOP_SEC_CODE
#endif
#include <Dlt_MemMap.h>

#define DLT_START_SEC_CODE
#include <Dlt_MemMap.h>

/*==================[internal function definitions]=========================*/

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON) || (DLT_IMPLEMENT_VERBOSE == STD_ON)

/*--[Dlt_GetContextEntry]-------------------------------------------------------------------------*/
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetContextEntry(
    Dlt_SessionIDType session_id,
    Dlt_Internal_ApplicationIDType AppId,
    Dlt_Internal_ContextIDType ContextId,
    P2VAR(Dlt_ContextIdTablePtrType, AUTOMATIC, DLT_APPL_DATA) ContextEntry)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_AppIdTableIdxType AIdx = 0U;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
  MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
  MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

  DBG_DLT_GETCONTEXTENTRY_ENTRY(AppId, ContextId, ContextEntry);

  /* get index of application for table */
  do
  {
    Dlt_BSWMasterContextPtr->EnterExclusiveArea();
    Dlt_FindApplicationIDEntry(session_id, AppId, &Dlt_BSWMasterContextPtr->CoreContext, &AIdx);
    Dlt_BSWMasterContextPtr->ExitExclusiveArea();

    /* if application is registered the index must be in range */
    if (AIdx != MaxRegisteredAppld)
    {
      Dlt_ContextIdTableIdxType             CtIdx = 0U;
      Dlt_AppToContextIdTableIdxType ApplToCtxIdx = 0U;

      /* identify the paired context in registered information */
      if (Dlt_CheckForRegisteredContext(ContextId, AIdx, &CtIdx, &ApplToCtxIdx) == TRUE)
      {
        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
        *ContextEntry = &Dlt_BSWMasterContextPtr->CoreContext.ContextIdTable[CtIdx];
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        retVal = E_OK;
        break;
      }
    }
    AIdx++;
  } while(AIdx < MaxRegisteredAppld);

  DBG_DLT_GETCONTEXTENTRY_EXIT(retVal, AppId, ContextId, ContextEntry);
  return retVal;
}

#endif /* DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON || DLT_IMPLEMENT_VERBOSE == STD_ON */

#if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON)
/*--[Dlt_GetLogInfoVerifyVerbose]-----------------------------------------------------------------*/
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetLogInfoVerifyVerbose(
    uint8 options,
    Dlt_Internal_ApplicationIDType appId,
    Dlt_Internal_ContextIDType contextId,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status)
{
  Std_ReturnType retVal = E_OK;
  uint32 AppIdIterator = 0U;
  Dlt_AppIdTableIdxType AppIdxStart = 0U;
  Dlt_AppIdTableIdxType AppIdxEnd = 0U;
  uint8 Dlt_LocalHeaderUseVerboseMode;

  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
  Dlt_LocalHeaderUseVerboseMode = Dlt_HeaderUseVerboseMode;
  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

  /* If textual descriptions are requested but the global verbose mode variable is off,
   * continue to verify if all requested contexts have their verbose mode enabled. */
  if ( (DLT_GETLOGINFO_OPTIONS_WITH_DESC == options) && (DLT_VERBOSE_MODE_OFF == Dlt_LocalHeaderUseVerboseMode) )
  {
    Dlt_ContextIdTablePtrType LocalContextIdTable = ContextIdTable;

    if ( (appId == DLT_APP_ID_NULL) || (contextId == DLT_CTX_ID_NULL) )
    {
      /* If all AppIds are requested, parse all registered AppIds */
      if (appId == DLT_APP_ID_NULL)
      {
        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        AppIdxEnd = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
        AppIdxEnd = Dlt_MaxRegisteredAppldTableEntry;
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();
      }
      /* If one AppId is requested, regardless of specific/wildcard ContextId,
       * find the table location of the AppId */
      else
      {
        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
        Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, appId, &Dlt_BSWMasterContextPtr->CoreContext, &AppIdxStart);
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        AppIdxEnd = AppIdxStart + 1U;
      }

      /* Parse requested AppIds and stop when a ContextId does not have verbose mode enabled */
      for (AppIdIterator = AppIdxStart; (AppIdIterator < AppIdxEnd) && (retVal == E_OK); AppIdIterator++)
      {
        Dlt_AppToContextIdTableIdxType AppToCtxIdx;
        Dlt_AppToContextIdTableIdxType Dlt_LocalAppToContextIdTableIdx;

        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        Dlt_LocalAppToContextIdTableIdx = Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[AppIdIterator];
#else
        Dlt_LocalAppToContextIdTableIdx = Dlt_AppToContextIdTableIdx[AppIdIterator];
#endif
        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        /* Parse requested ContextIds and stop when a ContextId does not have verbose mode enabled */
        for (AppToCtxIdx = 0U; AppToCtxIdx < Dlt_LocalAppToContextIdTableIdx; AppToCtxIdx++)
        {
          /* Get information about the current ContextId */
          Dlt_BSWMasterContextPtr->EnterExclusiveArea();
          LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(AppIdIterator, AppToCtxIdx);
          Dlt_BSWMasterContextPtr->ExitExclusiveArea();

          /* If the current ContextId does not have verbose mode enabled, reject the request all together */
          if ( (LocalContextIdTable != NULL_PTR) && (LocalContextIdTable->VerboseMode == DLT_VERBOSE_MODE_OFF) )
          {
            /* !LINKSTO Dlt.ControlApi.GetLogInfo.RejectWildcardRequestWhenContextVerboseDisabled, 1 */
            *status = DLT_CTRL_NOT_SUPPORTED;
            retVal = E_NOT_OK;
            break;
          }
        }
      }

    }
    /* If a specific AppId/ContextId tuple is requested, verify if its verbose mode is enabled or not */
    else if (LocalContextIdTable->VerboseMode == DLT_VERBOSE_MODE_OFF)
    {
      /* !LINKSTO Dlt.ControlApi.GetLogInfo.RejectRequestWhenContextVerboseDisabled, 1 */
      *status = DLT_CTRL_NOT_SUPPORTED;
      retVal = E_NOT_OK;
    }
    else
    {
      retVal = E_OK;
    }
  }
  else
  {
    retVal = E_NOT_OK;
  }

  return retVal;
}

/*--[Dlt_GetLogInfoAppIdContextId]----------------------------------------------------------------*/
STATIC FUNC(Std_ReturnType, DLT_CODE) Dlt_GetLogInfoAppIdContextId(
    uint8 options,
    Dlt_Internal_ApplicationIDType appId,
    Dlt_Internal_ContextIDType contextId,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) status,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo)
{
  Std_ReturnType retVal = E_NOT_OK;
  Dlt_AppToContextIdTableIdxType AppToCtxIdx;
  uint32 AppIdIterator = 0U;
  Dlt_AppIdTableIdxType AppIdxStart = 0U;
  Dlt_AppIdTableIdxType AppIdxEnd = 0U;
  uint32 LogInfoIdx = 0U;
  uint8 Dlt_LocalHeaderUseVerboseMode;
  Dlt_AppIdTableIdxType MaxRegisteredAppld;

  Dlt_BSWMasterContextPtr->EnterExclusiveArea();
  Dlt_LocalHeaderUseVerboseMode = Dlt_HeaderUseVerboseMode;
  Dlt_BSWMasterContextPtr->ExitExclusiveArea();

  /* In case options = 7 (textual descriptions), verify if the requested tuples have verbose mode enabled */
  if ( (Dlt_GetLogInfoVerifyVerbose(options, appId, contextId, ContextIdTable, status) == E_OK) ||
     ( DLT_GETLOGINFO_OPTIONS_NO_DESC == options) ||
     ((DLT_GETLOGINFO_OPTIONS_WITH_DESC == options) && (DLT_VERBOSE_MODE_ON == Dlt_LocalHeaderUseVerboseMode) ) )
  {
    if (appId == DLT_APP_ID_NULL)
    {
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
      MaxRegisteredAppld = *Dlt_BSWMasterContextPtr->CoreContext.MaxRegisteredAppldTableEntry;
#else
      MaxRegisteredAppld = Dlt_MaxRegisteredAppldTableEntry;
#endif
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      /* Because appId is DLT_APP_ID_NULL,
       * the possible non-null value of contextId does not matter */
      contextId = DLT_CTX_ID_NULL;
      /* Get the number of requested AppIds and increment the buffer's index */
      DLT_FILL_BUFFER_16_MSB(logInfo, LogInfoIdx, MaxRegisteredAppld);

      LogInfoIdx += DLT_GETLOGINFO_UINT16_OFFSET;

      AppIdxEnd = MaxRegisteredAppld;
    }
    else /* appId != DLT_APP_ID_NULL */
    {
      /* Parse all registered AppIds */
      Dlt_BSWMasterContextPtr->EnterExclusiveArea();
      Dlt_FindApplicationIDEntry(DLT_NO_SESSION_ID, appId, &Dlt_BSWMasterContextPtr->CoreContext, &AppIdxStart);
      Dlt_BSWMasterContextPtr->ExitExclusiveArea();

      AppIdxEnd = AppIdxStart + 1U;
      /* Get the number of requested AppIds and increment the buffer's index.
       * In this case, there is only one AppId */
      DLT_FILL_BUFFER_16_MSB(logInfo, LogInfoIdx, 1U);
      LogInfoIdx += DLT_GETLOGINFO_UINT16_OFFSET;
    }

    for (AppIdIterator = AppIdxStart; AppIdIterator < AppIdxEnd; AppIdIterator++)
    {
#if (DLT_RECEPTION_CONTROL_MESSAGES_ENABLED == STD_ON)
      if ( (LogInfoIdx + DLT_GETLOGINFO_UINT32_OFFSET) < DLT_MAX_CONTROL_MESSAGE_RESPONSE_SIZE)
#endif /* #if (DLT_RECEPTION_CONTROL_MESSAGES_ENABLED == STD_ON) */
      {
        Dlt_BSWMasterContextPtr->EnterExclusiveArea();
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        DLT_FILL_BUFFER_32_MSB(logInfo, LogInfoIdx, Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[AppIdIterator].AppId);
#else
        DLT_FILL_BUFFER_32_MSB(logInfo, LogInfoIdx, Dlt_AppIdTable[AppIdIterator].AppId);
#endif
        LogInfoIdx += DLT_GETLOGINFO_UINT32_OFFSET;
        /* Get the number of ContextIds of the current AppId */
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        DLT_FILL_BUFFER_16_MSB(logInfo, LogInfoIdx, Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[AppIdIterator]);
#else
        DLT_FILL_BUFFER_16_MSB(logInfo, LogInfoIdx, Dlt_AppToContextIdTableIdx[AppIdIterator]);
#endif
        LogInfoIdx += DLT_GETLOGINFO_UINT16_OFFSET;

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
        for (AppToCtxIdx = 0U; AppToCtxIdx < Dlt_BSWMasterContextPtr->CoreContext.AppToContextIdTableIdx[AppIdIterator]; AppToCtxIdx++)
#else
        for (AppToCtxIdx = 0U; AppToCtxIdx < Dlt_AppToContextIdTableIdx[AppIdIterator]; AppToCtxIdx++)
#endif
        {
          Dlt_ContextIdTablePtrType LocalContextIdTable = &DLT_GET_CONTEXT_TABLE(AppIdIterator, AppToCtxIdx);

          if (contextId != DLT_CTX_ID_NULL)
          {
            if (LocalContextIdTable->ContextId == contextId)
            {
              /* Get the number of ContextIds of the current AppId. In this case it's always 1 */
              DLT_FILL_BUFFER_16_MSB(logInfo, LogInfoIdx - DLT_GETLOGINFO_UINT16_OFFSET, 1U);
              /* Fill logInfo with the requested information */
              Dlt_GetLogInfoFillCtx(options, LocalContextIdTable, logInfo, &LogInfoIdx);
              break;
            }
          }
          else /* contextId == DLT_CTX_ID_NULL */
          {
            /* Fill logInfo with the requested information */
            Dlt_GetLogInfoFillCtx(options, LocalContextIdTable, logInfo, &LogInfoIdx);
          }
        }

        /* When no textual descriptions are requested (options == 6),
         * the buffer fields for description and description length are ignored */

        /* !LINKSTO Dlt.ControlApi.GetLogInfo.VerboseModeEnabled.WithDescription, 1 */
        /* !LINKSTO Dlt.GetLogInfo.Option7.WithLogLevelWithTraceStatusAndTextualInfo, 1 */

        if (DLT_GETLOGINFO_OPTIONS_WITH_DESC == options)
        {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
          /* Get the description length of the current AppId */
          TS_MemCpy(&logInfo[LogInfoIdx], &Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[AppIdIterator].DltAppDescription.AppDescLen, DLT_GETLOGINFO_UINT8_OFFSET);
          LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;

          /* Get the description of the current AppId */
          TS_MemCpy(&logInfo[LogInfoIdx],
                    &Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[AppIdIterator].DltAppDescription.AppDesc[0U],
                     Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[AppIdIterator].DltAppDescription.AppDescLen);
          LogInfoIdx += Dlt_BSWMasterContextPtr->CoreContext.AppIdTable[AppIdIterator].DltAppDescription.AppDescLen;
#else /* DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431 */
          /* When textual descriptions are requested and DltServiceAPI != AUTOSAR_431,
           * write 0U in the description length byte */
          logInfo[LogInfoIdx] = 0U;
          LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;
#endif /* DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431 */
        }

        Dlt_BSWMasterContextPtr->ExitExclusiveArea();

        *status = DLT_CTRL_OK;
        retVal = E_OK;
      }
    }
  }
  else
  {
    /* !LINKSTO Dlt.ControlApi.GetLogInfo.Det.Wrong.Parameters.Options, 1 */
    *status = DLT_CTRL_NOT_SUPPORTED;
    retVal = E_NOT_OK;
  }
  return retVal;
}

/*--[Dlt_GetLogInfoFillCtx]-----------------------------------------------------------------------*/
STATIC FUNC(void, DLT_CODE) Dlt_GetLogInfoFillCtx(
    uint8 options,
    Dlt_ContextIdTablePtrType ContextIdTable,
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) logInfo,
    P2VAR(uint32, AUTOMATIC, DLT_APPL_DATA) LogInfoIdx)
{
  /* Get the current ContextId */
  DLT_FILL_BUFFER_32_MSB(logInfo, *LogInfoIdx, ContextIdTable->ContextId);
  *LogInfoIdx += DLT_GETLOGINFO_UINT32_OFFSET;

  /* !LINKSTO Dlt.GetLogInfo.Option6.WithLogLevelWithTraceStatus, 1 */
  /* Get the log level of the current ContextId */
  logInfo[*LogInfoIdx] = ContextIdTable->LogLevel;
  *LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;
  /* Get the trace status of the current ContextId */
  logInfo[*LogInfoIdx] = ContextIdTable->TraceStatus;
  *LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;

  /* When no textual descriptions are requested (options == 6),
   * the buffer fields for description and description length are ignored */

  /* !LINKSTO Dlt.ControlApi.GetLogInfo.VerboseModeEnabled.WithDescription, 1 */

  if (DLT_GETLOGINFO_OPTIONS_WITH_DESC == options)
  {
#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)
    /* Get the description length of the current ContextId */
    TS_MemCpy(&logInfo[*LogInfoIdx], &ContextIdTable->ContextDescription.CtxtDescLen, DLT_GETLOGINFO_UINT8_OFFSET);
    *LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;

    /* Get the description of the current ContextId */
    TS_MemCpy(&logInfo[*LogInfoIdx],
              &ContextIdTable->ContextDescription.CtxtDesc[0U],
               ContextIdTable->ContextDescription.CtxtDescLen);
    *LogInfoIdx += ContextIdTable->ContextDescription.CtxtDescLen;

#else /* DLT_DEFAULT_ASR_RETVAL != AUTOSAR_431 */

    /* When textual descriptions are requested and DltServiceAPI != AUTOSAR_431,
     * write 0U in the description length byte */
    logInfo[*LogInfoIdx] = 0U;
    *LogInfoIdx += DLT_GETLOGINFO_UINT8_OFFSET;

#endif /* DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431 */
  }
}
#endif /* #if (DLT_IMPLEMENT_FILTER_MESSAGES == STD_ON) */

#if (DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431)

/*-----------------------------[Dlt_ReturnLogChannelName]------------------*/
STATIC FUNC(void, DLT_CODE) Dlt_ReturnLogChannelName
(
    P2VAR(uint8, AUTOMATIC, DLT_APPL_DATA) LogChannelBuffer,
    Dlt_ChnIdTableIdxType logChannelIndex
)
{
  uint8 LocalDataLength = DLT_CHANNEL_NAME_SIZE;
  uint8 localLogChannelIndex = 0U;

  /* !LINKSTO Dlt.Config.DltLogChannelEndiannessEnable,1 */
#if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) )
  uint8 ptrOffset = 0U;
#else /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_OFF) && (CPU_BYTE_ORDER == LOW_BYTE_FIRST) ) */
  /* !LINKSTO Dlt.Config.DltLogChannelEndiannessDisable,1 */
  uint8 ptrOffset = 3U;
#endif /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) ) */

  while (LocalDataLength > 0)
  {
    LogChannelBuffer[ptrOffset] = *(&Dlt_CfgLogChannel[logChannelIndex].DltLogChannelId[localLogChannelIndex]);

#if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) )
    ptrOffset++;
#else /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_OFF) && (CPU_BYTE_ORDER == LOW_BYTE_FIRST) ) */
    ptrOffset--;
#endif /* #if ( (DLT_TUPLE_PLATFORM_ENDIANNESS_DISABLE == STD_ON) || (CPU_BYTE_ORDER == HIGH_BYTE_FIRST) ) */
    localLogChannelIndex++;
    LocalDataLength--;
  }
}
#endif /* DLT_DEFAULT_ASR_RETVAL == AUTOSAR_431 */

#if (DLT_NUM_SWCS_TO_NOTIFY > 0)
/*--[Dlt_GetCallbackIdx]-----------------------------------------------------------------------*/
STATIC FUNC(uint32, DLT_CODE) Dlt_GetCallbackIdx(Dlt_SessionIDType sessionId)
{
  uint32 CallbackIdx;

  DBG_DLT_GETCALLBACKIDX_ENTRY(sessionId);

  for(CallbackIdx = 0U; CallbackIdx < DLT_NUM_SWCS_TO_NOTIFY; CallbackIdx++)
  {
    if (sessionId == Dlt_LogTraceSessionControlCallbacks[CallbackIdx].SessionId)
    {
      break;
    }
  }

  DBG_DLT_GETCALLBACKIDX_EXIT(sessionId,CallbackIdx);

  return CallbackIdx;
}
#endif /* (DLT_NUM_SWCS_TO_NOTIFY > 0) */

#define DLT_STOP_SEC_CODE
#include <Dlt_MemMap.h>

/*==================[end of file]===========================================*/
